# **INTERVIEW**
***

## **随机整理**
  ![多态](./pic/001.jpg)

  * 继承实现多态
  * 方法重载（参数类型和个数不同。。。）
  * 运算符重载实现多态
  * 抽象类和虚函数实现多态
  * 静态多态（一般时通过函数重载或模版实现，在编译期确定行为）；动态多态（通过虚函数等技术实现）
  * 虚析构函数的作用

  多态出现的方式（1、父类指针指向子类对象；2、父类引用作为子类别名）

  * 标准库的线程安全性
  * 如何避免内存泄漏，自动化对象生命期管理，智能指针，循环引用，`weak_ptr`；`enable_shared_from_this`是做什么的，应用场景呢？
  * list的insert、erase与vector相比那个快（需要分情况）
  * 内存泄漏？如何实现一个引用计数的指针，需要注意什么（侵入式、非侵入式）？自然过渡到python的引用计数？垃圾回收等。。。
  * STL迭代器失效（list、set、map插入时不失效，vector插入时扩容时可能失效；list、set、map删除时对应节点失效，vector删除时其后所有的节点失效）
  * tcp、udp；区别，什么时候用什么；accept等；select、poll
  * 进程、线程；区别、优势、什么时候用什么？线程同步？认为好的线程模型；

## **提问**
  * 你觉得面向对象编程中，最重要的思想是什么？
   - 继承（请举例，然后展开？继承链会不会太深？上层逻辑怎么区分不同的子类？然后自然过度到多态）
   - 多态（解释多态？如果提到了动态绑定（C++），则过度到虚函数表，虚表指针，虚析构函数的作用等。如果提到静态多态则请解释如何实现的（函数重载、运算符重载、模版），提到模版则模版特化等？如果没有提到静态多态的形式，则问如果让实现，可以通过什么方式来实现？）
   - 代码重用（谈谈对代码重用的理解，如目标类实现某接口等iterable，comparable，面向接口编程等……）

  * 代码重用聊完可以自然过渡到标准库
   - 顺序容器简单提一下，可以提提deque的实现？
   - 关联容器可以提一提`map`、`unordered_map`，问问内部实现？（什么使用用map、什么时候用unordered map，各有什么优劣？）
   - 可以顺便聊聊hash表实现，键冲突怎么解决？什么时候rhash好？（加条件，内存需求很紧张，有要求整块hash table是可以直接flush到db中的应该怎么设计？可通过网络传递的该怎么设计？如何保证内存的节省？等等）
   - STL各容器迭代器失效（list、set、map插入不失效，vector，unordered map插入扩容、rhash时可能失效；list、set、map删除对应节点时失效；vector删除时其后所有节点失效）
   - 聊到迭代器失效则可过渡到指针失效，我们应该怎么避免空指针、野指针等？
   - 如果提到智能指针，可以分别简单聊下3种智能指针使用环境，`weak_ptr`的作用`enable_shared_from_this`的作用，使用场景？
   - 由智能指针聊到内存泄漏，由内存泄漏聊到自动化对象生命期管理；循环引用（侵入式、非侵入式），过渡到现在的动态语言lua、python等的垃圾回收等；

  * 是否有关注最新的C++1y，C++20等？
   - 有？则问平时用到了哪些？
   - 多线程？那么顺便聊一下标准库的线程安全性问题？可自然过渡到多进程、多线程设计？线程同步？个人认为好的线程使用模型是怎么样的？
   - 如果可以，那么最期待什么能加入标准库？
   - 如果提到网络库（没提到也可以问），可自然过渡到自己有没有了解过，实现过？三次握手（涉及到那些api，accept的话，队列满怎么办？），四次挥手，tcp、udp区别（有没有了解过kcp，没有则更好可以问问如果要用udp来实现可靠传输，如果高效的实现？对于一些有操作及时性的非可靠包需要的地方，可以通过那些方式实现），各应用在哪些场景？io模型，select，poll；
   - 如果提到module，那应该是比较预编译比较了解的，可以简单聊聊，其所带来的好处是什么等等，自由展开。。。

  * 服务器的话可以问问timer实现？根据项目经验聊聊服务器框架设计等 。。。
