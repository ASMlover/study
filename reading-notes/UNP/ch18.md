# **路由套接字**
***

## **1. 概述**
    1) 路由套接字上支持3种类型的操作：
        * 进程可以通过写出到路由套接字而往内核发送消息；
        * 进程可以通过从路由套接字读入而自内核接收消息；
        * 进程可以使用sysctl函数倾泻出路由表或列出所有已配置的接口；


## **2. 数据链路套接字地址结构**
    1) 通过路由套接字返回的一些消息中含有作为返回值给出的数据链路套接字地址
       结构;
    2) 该结构定义如下:
        struct sockaddr_dl {
          uint8_t     sdl_len;
          sa_family_t sdl_family;
          uint16_t    sdl_index;
          uint8_t     sdl_type;
          uint8_t     sdl_nlen;
          uint8_t     sdl_alen;
          uint8_t     sdl_slen;
          char        sdl_data[2];
        };
        * 每个接口都有一个唯一的正值索引，返回索引的手段：if_nametoindex和
          if_nameindex函数等。。。
        * sdl_data成员含有名字和链路层地址，名字从sdl_data[0]开始，而且不以 
          空字符结尾；
        * 链路层地址从sdl_data[sdl_nlen]开始：
            #define LLADDR(s) ((caddr_t)((s)->sdl_data + (s)->sdl_nlen))
        * 数据链路套接字地址结构是可变长的；
