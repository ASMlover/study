# **ioctl操作**
***


## **1. ioctl函数**
        #include <unistd.h>
        int ioctl(int fd, int request, .../* void* arg */);
                => 成功返回0，出错返回-1
    1) 第三个参数总是指针，指针的类型依赖于request；
    详细的request类型如下
    2) 套接字：
        SIOCATMARK  => int => 是否位于带外标记
        SIOCSPGRP   => int => 设置套接字的进程ID或进程组ID
        SIOCGPGRP   => int => 获取套接字的进程ID或进程组ID
    3) 文件：
        FIONBIO   => int => 设置/清除非阻塞式IO标志
        FIOASYNC  => int => 设置/清除信号驱动异步IO标志
        FIONREAD  => int => 获取接收缓冲区中的字节数
        FIOSETOWN => int => 设置文件的进程ID或进程组ID
        FIOGETOWN => int => 获取文件的进程ID或进程组ID
    4) 接口：
        SIOCGIFCONF => struct ifconf => 获取所有接口的列表
        SIOCSIFADDR => struct ifreq => 设置接口地址
        SIOCGIFADDR => struct ifreq => 获取接口地址
        SIOCSIFFLAGS => struct ifreq => 设置接口标志
        SIOCGIFFLAGS => struct ifreq => 获取接口标志
        SIOCSIFDSTADDR => struct ifreq => 设置点到点地址
        SIOCGIFDSTADDR => struct ifreq => 获取点到点地址
        SIOCGIFBRDADDR => struct ifreq => 获取广播地址
        SIOCSIFBRDADDR => struct ifreq => 设置广播地址
        SIOCGIFNETMASK => struct ifreq => 获取子网掩码
        SIOCSIFNETMASK => struct ifreq => 设置子网掩码
        SIOCGIFMETRIC => struct ifreq => 获取接口的测度
        SIOCSIFMETRIC => struct ifreq => 设置接口的测度
        SIOCGIFMTU => struct ifreq => 获取接口MTU
        SIOCxxx => struct ifreq => (取决于实现)
    5) ARP:
        SIOCSARP  => struct arpreq => 创建/修改ARP表项
        SIOCGARP  => struct arpreq => 获取ARP表项
        SIOCDARP  => struct arpreq => 删除ARP表项
    6) 路由：
        SIOCADDRT => struct rtentry => 增加路径
        SIOCDELRT => struct rtentry => 删除路径
