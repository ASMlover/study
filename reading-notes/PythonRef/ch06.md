# **函数与函数编程**
***

## **1. 函数**
    1) def定义函数：
        def add(x, y):
          return x + y
    2) 参数的顺序和数量必须与函数定义匹配，否则会引发TypeError异常；
    3) 如函数定义中存在带有默认值的参数，该参数及其所有后续参数都可选；如忘
       记给函数定义中的所有可选参数赋值，就引发SyntaxError异常；
    4) 如果函数的最后一个参数加上星号(*)，函数可接受任意输了的参数；
        def fprintf(file, fmt, *args):
          file.write(fmt % args)
    5) 函数参数还可以显示的命名每个参数并为其指定一个值，这就是关键字参数；
       使用关键字参数时，参数的顺序无关紧要；
    6) 位置参数和关键字参数可同时出现在一次函数调用中，但所有位置参数必须先
       出现；
    7) 如函数的最后一个参数以**开头，可将所有额外的关键字参数都放入一个字典
       中并把这个字典传递给函数；
    8) 关键字参数和可变长度参数列表可一起使用，只要**参数出现在最后；
        def spam(*args, **kwargs):
          statements
    9) 可以使用**kwargs语法把关键字参数传递给另一个函数；
        def callfunc(*args, **kwargs):
          func(*args, **kwargs)

## **2. 参数传递与返回值**
    1) 不可变值参数是按值传递的，可变对象参数是按引用传递的；
    2) return语句从函数返回一个值，如果没有指定或省略return语句返回None；
    3) 返回多个值，可将它们放在一个元组中；

## **3. 作用域规则**
    1) 每次执行一个函数会创建新的局部命名空间，其代表一个局部环境，其中包含
       函数参数的名称和在函数体内赋值的变量名称；
    2) 解析名字时，解析器首先搜索局部命名空间，然后全局命名空间，然后是内置
       命名空间；如果都没找到引发NameError异常；
    3) 在局部命名空间使用全局变量，需要使用global；
    4) 对于嵌套在函数中的变量；
        def countdown(start):
          n = start
          def display():
            print (n)
          def decrement():
            n -= 1    # Python2无效
          while n > 0:
            display()
            decrement()
        * Python2只支持在最里层的作用域和全局命令空间中给变量重新赋值；内部
          函数不能给定义在外部函数中的局部变量重新赋值；
        * 在Python2中可以将要修改的值放在列表或字典中进行修改；
        * Python3中可以在内部函数中将变量声明为nonlocal就可以在函数体中的嵌
          套函数中对局部变量进行修改：
            def countdown(start):
              n = start
              def display():
                print (n)
              def decrement():
                nonlocal n
                n -= 1
              while n > 0:
                display()
                decrement()
    5) 在使用局部变量时还没给它赋值就会引发UnboundLocalError异常；

## **4. 函数对象与闭包**
    1) 将组成函数的语句和这些语句的执行环境打包在一起，得到的对象就是闭包；
    2) 所有函数都拥有一指向定义该函数的全局命名空间的__globals__属性；
    3) 闭包会捕捉内部函数的环境，还可用于要包装现有函数，以便增加额外功能的
       应用程序中；
