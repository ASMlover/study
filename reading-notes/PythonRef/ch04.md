# **运算符与表达式**
***

## **1. 数字操作**
    1) 数字类型可进行的操作：
        * x + y     => 加法
        * x - y     => 减法
        * x * y     => 乘法
        * x / y     => 除法
        * x // y    => 截断除法
        * x ** y    => 乘方(x ^ y)
        * x % y     => 取模( x mod y )
        * -x        => 一元减法
        * +x        => 一元加法
    2) 只能用于整数的逻辑操作：
        * x << y    => 左移
        * x >> y    => 右移
        * x & y     => 按位与
        * x | y     => 按位或
        * x ^ y     => 按位异或
        * ~x        => 按位求反
    3) 支持数字类型的内置操作：
        * abs(x)              => 绝对值
        * divmod(x, y)        => 返回(x // y, x % y)
        * pow(x, y[, modulo]) => 返回 (x ** y) % modulo
        * round(x, [n])       => 四舍五入为接近10^(-n)的倍数(只返回浮点数)
    4) 操作数属于同一类型时对这些操作数的运算才有效，对内置数字，Python会进
       行强制类型转换，规则如下：
        * 如果操作数之一为复数，将另一个操作数也转换为复数；
        * 如果操作数之一为浮点数，将另一个操作数也转换为浮点数；
        * 两个操作数同时为整数，不需要转换；

## **2. 序列操作**
    1) 序列(字符串、列表和元组)支持的运算符如下：
        * s + r               => 连接
        * s * n, n * s        => 制作s的n个副本，n是整数
        * v1, v2..., vn = s   => 变量解包(unpack)
        * s[i]                => 索引
        * s[i:j]              => 切片
        * s[i:j:stride]       => 扩展切片
        * x in s, x not in s  => 从属关系
        * for x in s:         => 迭代
        * all(s)              => s中的所有项都为True，返回True
        * any(s)              => s中的任意项为True，返回True
        * len(s)              => 长度
        * min(s)              => s中的最小项
        * max(s)              => s中的最大项
        * sum(s[, initial])   => 具有可选初始值的项的和
    2) 字符串和元组是不可变的，创建后不可修改；列表的修改操作如下：
        * s[i] = x            => 索引赋值
        * s[i:j] = r          => 切片赋值
        * s[i:j:stride] = r   => 扩展切片赋值
        * del s[i]            => 删除一个元素
        * del s[i:j]          => 删除一个切片
        * del s[i:j:stride]   => 删除一个扩展切片
    3) 字符串有：字节字符串和Unicode字符串，区别是字节字符串是已编码的，而
       Unicode大原始未编码字符值；
       禁止在表达式或比较中同时使用字节字符串和Unicode字符串；
    4) Python3中混合使用字符串类型会导致TypeError, Python2会将字节字符串隐式
       转换为Unicode字符串；

## **3. 字符串格式化**
    1) 取模运算符(s % d)生成格式化的字符串，s是格式字符串，d是一个对象元组或
       映射对象(字典)；
    2) 字符串格式化转换与C语言类似；
    3) 在%字符和转换字符之间，可出现以下修饰符，并只能按以下顺序出现：
        * 位于括号中的一个键名，用于从映射对象中选中一个具体项；如果不存在此
          类元素会引发KeyError；
        * -表示左对齐标志，默认右对齐；+表示应包含数字符号；0表示一个零填充
        * 一个指定最小自动宽度的数字；
        * 一个小数字用于按照精度分割字段宽度；
        * 一个数字指定要打印字符串中的最大字符个数，浮点数中小数点之后的位数
          或者整数的最小位数；

## **4. 高级字符串格式化**
    1) 使用s.format(*args, **kwargs)；收集位置参数和关键字参数的任意位置，并
       使用它们的值来替换s中嵌入的占位符；
        * 形式为{n}的占位符(n为数字)将被format的位置参数n所替代；
        * 形式为{name}的占位符将被format的关键字参数name所替代；
        * 要输出一个{或}必须使用{{或}}的形式；
    2) 使用(:)给每个占位符添加可选的格式说明符，如{place:format_spec}可以指
       定列宽，小数位和对齐方式；
    3) 高级字符串格式化是调用了每个字段值上的特殊方法
       __format__(self, format_spec); format操作的功能是无限的，具体取决于它
       应用的对象；

## **5. 字典操作**
    1) 字典提供名称和对象之间的映射，支持的操作如下：
        * x = d[k]      => 通过键进行索引
        * d[k] = x      => 通过键进行赋值
        * del d[k]      => 通过键删除一项
        * k in d        => 测试某个键是否存在
        * len(d)        => 字典中的项数
    2) 键的值可以是任意不可变对象；

## **6. 集合操作**
    1) set和frozenset类型支持大量常见的集合操作：
        * s | t         => s和t的并集
        * s & t         => s和t的交集
        * s - t         => 求差集
        * s ^ t         => 求对称差集
        * len(s)        => 集合中项数
        * max(s)        => 最大值
        * min(s)        => 最小值
    2) 并集，交集和差集操作的结果与最左边的操作数具有相同类型；

## **7. 增量赋值**
    1) 增量运算符如下：
        * x += y        => x = x + y
        * x -= y        => x = x - y
        * x *= y        => x = x * y
        * x /= y        => x = x / y
        * x //= y       => x = x // y
        * x **= y       => x = x ** y
        * x %= y        => x = x % y
        * x &= y        => x = x & y
        * x |= y        => x = x | y
        * x ^= y        => x = x ^ y
        * x >>= y       => x = x >> y
        * x <<= y       => x = x << y
    2) 用户自定义的类可以使用特殊方法重定义增量赋值运算符；

## **8. 函数调用()运算符**
    1) f(args)运算符用于调用f上的函数，每个参数都是一个表达式；
    2) 调用函数之前会从左到右对所有参数表达式进行求值 => 应用序求值；
    3) functools模块的partial()函数可对函数参数进行部分求值；
        * 对一个函数的某些参数求值，返回一稍后可调用对象，以提供余下的参数；
        * 机制就是：把一个带有多个参数的函数分解为一系列函数，其中每个函数带
                    有其中一个参数；

## **9. 转换函数**
    1) 在两种类型之间转换，只需用类型名称作为函数；
    2) 所有这些转换函数均返回一个新对象，该对象代表转换后的值；
    3) 转换函数：
        * int(x[,base])           => 将x转换为整数，如x是字符串，base是基数
        * float(x)                => 将x转换为浮点数
        * Complex(real[,imag])    => 创建一个复数
        * str(x)                  => 将x转换为字符串表示
        * repr(x)                 => 将x转换为一个表达式字符串
        * format(x[,format_spec]) => 将x转换为格式字符串
        * eval(str)               => 对字符串求值并返回对象
        * tuple(s)                => 将s转换为元组
        * list(s)                 => 将s转换为列表
        * set(s)                  => 将s转换为集合
        * dict(d)                 => 创建字典，d必须是(key,value)元组序列
        * frozenset(s)            => 将s转换为不可变集合
        * chr(x)                  => 将整数转换为字符
        * unichr(x)               => 将整数转换为Unicode字符(Python2)
        * ord(x)                  => 将字符转换为其整数值
        * hex(x)                  => 将整数转换为十六进制字符串
        * bin(x)                  => 将整数转换为二进制字符串
        * oct(x)                  => 将整数转换为八进制字符串
    4) repr()会创建一个表达式字符串，可使用eval()对它求值以重新创建对象；

## **10. 布尔表达式与真值**
    1) and, or, not关键字构成了布尔表达式：
    2) 布尔运算符行为如下：
        * x or y      => x为false，返回y，否则返回x
        * x and y     => x为false，返回x，否则返回y
        * not x       => x为false，返回1，否则返回0
    2) True，任意非0数字，非空字符串、列表、元组或字典为True；
       False、0、None和空列表、元组和字典为Fasle；

## **11. 对象的比较与身份**
    1) 等于运算符(x == y)可以测试x和y的值是否相等；
