
/////////////////////////////////////////////////
// test assignment and print
/////////////////////////////////////////////////
print ">>>>>>>>>>>>>>>>>> ASSIGNMENT TEST";
var s = "Hello, world!";
print s;

/////////////////////////////////////////////////
// test block
/////////////////////////////////////////////////
print ">>>>>>>>>>>>>>>>>> BLOCKS TEST";
{
  var s = "in first block";
  print s;
}

print s;

var a = 3;
var b = 4;
{
  var a = 33;
  var b = 44;
  {
    var a = 333;
    print a + b;
  }
  print a + b;
}
print a;
print b;

/////////////////////////////////////////////////
// test `if` statement condition logical
/////////////////////////////////////////////////
print ">>>>>>>>>>>>>>>>>> IF CONDITION TEST";
if (true) {
  print "IF BRANCH";
  if (a + b)
    print "a + b";
} else {
  print "ELSE BRANCH";
}

if (false) {
  print "IF BRANCH";
} else {
  print "ELSE BRANCH";
}

/////////////////////////////////////////////////
// test `and` and `or` logical operators
/////////////////////////////////////////////////
print ">>>>>>>>>>>>>>>>>> LOGICAL OPERATORS TEST";
print "Hello" or "world!";
print nil or "yes";
print "Hello" and "world!";
print nil and "yes" or "no";

/////////////////////////////////////////////////
// test `while` logical
/////////////////////////////////////////////////
print ">>>>>>>>>>>>>>>>>> WHILE LOOP LOGICAL TEST";
var count = 10;
var while_cond = true;
while (while_cond) {
  if (count == 0) {
    while_cond = false;
  }
  else {
    print count;
  }
  count = count - 1;
}

/////////////////////////////////////////////////
// test `for` logical
/////////////////////////////////////////////////
print ">>>>>>>>>>>>>>>>>> FOR LOOP LOGICAL TEST";
for (var i = 0; i < 10; i = i + 1) {
  print i * i;
}

/////////////////////////////////////////////////
// test native function
/////////////////////////////////////////////////
print ">>>>>>>>>>>>>>>>>> NATIVE FUNCTION TEST";
var beg = clock();
for (var i = 0; i < 10; i = i + 1) {
  print i * i * i;
}
print clock() - beg;

/////////////////////////////////////////////////
// test function
/////////////////////////////////////////////////
print ">>>>>>>>>>>>>>>>>> FUNCTION TEST";
fun count(n) {
  if (n > 1)
    count(n - 1);
  print n;
}
count(3);

fun add(a, b, c) {
  print a + b + c;
}
print add;
add(1, 2, 3);

fun say_hello(first, last) {
  print "Hello, " + first + " " + last + "!";
}
say_hello("Dear", "LOX");

/////////////////////////////////////////////////
// test function return
/////////////////////////////////////////////////
print ">>>>>>>>>>>>>>>>>> FUNCTION RETURN TEST";
fun fibonacci(n) {
  if (n <= 1)
    return n;
  return fibonacci(n - 2) + fibonacci(n - 1);
}
 for (var i = 0; i < 10; i = i + 1) {
   print fibonacci(i);
 }
