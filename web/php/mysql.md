# **MySQL数据库设计** #
*** 


## **1. 数据表的类型以及存储位置** ##
        MySQL支持MyISAM, InnoDB, HEAP, BOB, ARCHIVE, CSV等多种数据表类型, 在
    创建一个新MySQL数据表的时候, 可以为它设置一个类型。
> ### **1.1 MyISAM数据表** ###
    1) 成熟, 稳定, 易于管理
    2) 使用一种表格锁定机制, 来优化多个并发的读写操作
    3) 代价是需要经常运行OPTIMIZE TIME来恢复被更新机制浪费的空间
    4) 强调了快速读取操作
> ### **1.2 InnoDB数据表** ###
    1) 是MyISAM的一种更新换代产品
    2) 提供了具有提交, 回滚和崩溃回复能力的事物安全存储引擎
    3) 支持外键机制
    4) 占用空间比同样内容的MyISAM大很多
    5) 不支持全文索引
> ### **1.3 如何选择InnoDB和MyISAM** ###
    1) 功能对比
        表类型功能对比          MyISAM表                InnoDB表
        事务处理                  no                      yes
        数据行锁定                no, 只有表锁定          yes
        外键约束                  no                      yes
        表空间大小                相对小                  相对大, 最大2倍
        全文索引                  yes                     no
        COUNT问题                 无                      COUNT(*)很慢
    2) 节约空间和时间或响应速度快, 使用MyISAM
    3) 要用到事务, 外键, 更高安全性, 允许很多用户同时修改, 使用InnoDB
> ### **1.4 数据表的存储位置** ###
    1) 可在配置文件中指定, 也可在启动服务器是通过--datadir=/path/xxx来指定
    2) 一般位于.../mysql/data/下
    3) MyISAM有.frm, .myd, .myi等3中文件
    4) InnoDB则只有.frm文件




## **2. 创建索引** ##
> ### **2.1 主键索引(PRIMARY KEY)** ###
    1) 确定数据表中一条特定数据记录的位置
    2) 一个表只能指定一个主键, 且不为空
> ### **2.2 唯一索引(UNIQUE)** ###
    1) 可防止创建重复的值
    2) 一个表可以有多个唯一索引
> ### **2.3 常规索引(INDEX)** ###
    1) 如果要提升数据库性能, 是首先考虑的
    2) 会占用磁盘空间, 减慢在索引数据列上的插入, 删除和修改操作
    3) 应该建在搜索, 排序, 分组等操作涉及的数据列上
> ### **2.4 全文索引(FULLTEXT)** ###
    1) 只能用于MyISAM表
    2) 只能在CHAR, VARCHAR或TEXT类型的列上创建
    3) 会将某个数据表的某个数据列里出现的所有单词生成一份清单
    4) 查询的时候需要用到MATCH和AGAINST两个函数
    5) MATCH负责列举对他进行搜索的一个或多个数据列
    6) AGAINST负责给出搜索字符串





## **3. 使用PHP向MySQL服务器发送SQL** ##
    察看PHP的MySQL操作文档
    mysqli模块也请参看函数文档
        想一次操作多个SQL语句需要用到mysqli的multi_query函数; SQL之间用";"分
    开, 取得结果的时候需要使用store_result和next_result.
