# HotfixServer TODO

## P0 稳定性与安全
- [ ] 鉴权与权限：上传/删除支持 API Key 或签名；IP 白名单作为辅助。
- [ ] 上传校验：限制单文件大小、总请求大小、允许后缀/类型。
- [ ] 幂等上传：定义覆盖策略或版本化规则。
- [ ] 审计日志：记录操作者标识、来源 IP、文件摘要、返回码。

## P1 可运维性
- [ ] 健康与就绪：增加 `/ready`，检查磁盘可写/空间阈值。
- [ ] 指标：暴露轻量 metrics（文件数、最新上传时间、响应时间）。
- [ ] 配置校验：启动时校验配置并输出告警。
- [ ] 日志滚动：按天切分并自动清理。

## P1 数据与生命周期
- [ ] 版本与索引：按模式维护最新版本标识或 build id。
- [ ] 文件摘要：上传生成 SHA256，下载可校验。
- [ ] 归档策略：超限先归档到 `archive/` 再删除（可选）。

## P2 前端体验
- [ ] 搜索/过滤：按关键字、时间范围、大小筛选。
- [ ] 详情面板：显示大小、hash、上传者、时间、标签。
- [ ] 快速复制：一键复制下载链接。

## P2 测试与质量
- [ ] 自动化测试：覆盖上传/删除/列表/保留策略。
- [ ] 压测脚本：大文件与并发请求场景。

## P3 部署方式
- [ ] systemd 服务：Debian 下开机自启与日志管理。
- [ ] Windows 服务：后台运行与守护。
- [ ] 容器化：Dockerfile + volume 映射。
