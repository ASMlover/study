# **Win32 API**
***



## **Summary**
 * 记录Win32编程的技巧或者一些技术内幕


## **1. Sleep技术内幕**
    调用Sleep会有条件地将调用线程从当前的处理器上移除, 并有可能将它从线程调
    度器的可运行队列中移除, 这取决于timeout的值;
> ### **timeout = 0**
    如果线程调度器的可运行队列中有>=当前线程优先级的就绪线程存在, 操作系统会
    将当前线程从处理器上移除, 调度其他优先级高的就绪线程运行;
    如果线程调度器的可运行队列中没有就绪线程或者所有就绪线程的线程优先级都低
    于当前线程, 那么当前线程会继续运行, 如同没有调用Sleep一样;
> ### **timeout > 0**
    这会引起线程上下文切换;
    调用线程会从线程调度器的可运行队列中被移除一段时间, 时间约等于timeout所
    指定的时间长度(这个与系统的时间精度有关系);
> ### **SwitchToThread()**
    如果当前有其他就绪线程在线程调度器的可运行队列中, 始终会让出一个时间切片
    给这些就绪线程, 而不管就绪线程的优先级高低;
> ### **总结**
 * **如果要让线程真正的休息一段时间, 最好调用Sleep(1)或者SwitchToThread()**
