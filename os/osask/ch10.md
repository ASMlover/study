# **叠加处理** #
***


## **内存管理** ##
    1) 整理内存管理模块
    2) 反复申请和释放小内存块的话, 就会出现内存碎片, 我们提供一个以一页(4KB)
       为单位进行内存分配的接口
    3) 提供以一页为单位来分配内存的接口, 其实是对内存大小做了一个向上舍入
    4) 向上舍入其实就是(假如以8为单位)
        x = (x + (8 - 1)) & (~8)
        即是, 加上7再对该数值进行向下舍入
    5) 具体例子请参见./os-src/toyos43/



## **叠加处理** ##
    1) 画面上进行叠加处理, 类似于将绘制了图案的透明图层叠加在一起
    2) 具体的叠加实现请参见layer.c
    3) 具体例子请参见./os-src/toyos44/


## **提高叠加处理速度** ##
    1) 目前我们的鼠标处理是, 只要一有移动就重绘所有(320 * 200), 实际上我们可
       以只重绘鼠标移动前后的部分 -> 即256 * 2
    2) 具体例子请参见./os-src/toyos45/


## **进一步改良叠加处理速度** ##
    1) 现有的层刷新处理, 不管最终会不会刷新都会进行判断, 这样就有很多判断是
       浪费的, 我们可以考虑改进; 将判断限制在需要刷新的范围内部
    2) 具体例子请参见./os-src/toyos46/
