# **API** #
***


## **1. 程序整理** ##
    1) 整理程序, 让命令行窗口的实现更加清晰
    2) 具体例子请参见./os-src/toyos98/


## **2. 显示单个字符的API** ##
    1) 只要我们的应用程序能够通过某种方法调用系统中的打印单个字符的函数就可
       以实现了
    2) 在汇编中, call和jmp其实差不多, 区别在于执行call的时候, 为了能够在接下
       来执行ret指令的时候正确返回, 会先将要返回的目标地址push到栈中
    3) 我们打印一个字符的函数是使用C语言来实现的, 即使我们将字符编码存放到寄
       存器中, 函数也没得办法来接收, 我们必须在call调用函数之前将文字编码推
       入栈中; 因此我们需要实现一个将寄存器中的值推入栈中的函数
    4) 首先应用程序是不知道console的地址的, 所以只能让OS将这个地址实现保存到
       某个内存中的地址
    5) 但是API的地址不能这样直接就使用了, 应该加上段号, 应用程序在段1003 * 8
       而操作系统在2 * 8段
    6) 同时普通的ret用于普通的call返回, 而对于fall-call调用的返回, 应该使用
       指令retf
    7) 具体例子请参见./os-src/toyos99/
