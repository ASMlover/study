# **增加命令行窗口** #
***



## **1. 蜂鸣器发声** ##
    1) 我们来为操作系统添加蜂鸣器的用户API接口
    2) 其实蜂鸣器发声和定时器一样, 都是由PIT来控制的, 而PIT位于芯片组中, 因
       此所有型号的电脑都可以使用
    3) 蜂鸣器发声的控制
       音高操作
        * al = 0xb6; out(0x43, al);
        * al = 设定值的低位8bit; out(0x42, al);
        * al = 设定值的高位8bit; out(0x42, al);
        * 设定值为0时当做65536来处理
        * 发声的音高为时钟除以设定值, 也就是说设定值为1000时相当于发出
          1.19318kHz的声音; 设定值为10000时相当于119.318Hz; 因此设定2712即可
          发出约440Hz的声音
    4) 蜂鸣器ON/OFF
        * 使用I/O端口0x61控制
        * ON: in(al, 0x61); al |= 0x03; al &= 0x0f; out(0x61, al);
        * OFF: in(al, 0x61); al &= 0xd; out(0x61, al);
    5) 蜂鸣器发声API
        * edx = 20
        * eax = 声音频率(单位为mHz, 毫赫兹)
        当eax = 4400000时, 则发出440Hz的声音, 设置为0则表示停止声音
    6) 这些在真机上运行可以听到声音变化, 但是在qemu模拟器中则无能为力
    7) 具体例子请参见./os-src/toyosbc/




## **2. 添加更多的颜色** ##
    1) 现在我们的系统只用了16中颜色, 但是在256色显示模式下则还有240中颜色, 
       我们来显示更多的颜色
    2) 我们可以为光的三原色red, green, blue中每一种颜色赋予6个色阶, 这样我们
       就可以定义了6 * 6 * 6中颜色了
    3) 具体例子请参见./os-src/toyosbd/
