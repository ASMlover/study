     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_change_wtitle8
     7 00000000                                 	EXTERN	_fifo_put
     8 00000000                                 	EXTERN	_fill_box8
     9 00000000                                 	EXTERN	_init_gdt_idt
    10 00000000                                 	EXTERN	_init_pic
    11 00000000                                 	EXTERN	_io_sti
    12 00000000                                 	EXTERN	_fifo_init
    13 00000000                                 	EXTERN	_init_pit
    14 00000000                                 	EXTERN	_init_keyboard
    15 00000000                                 	EXTERN	_enable_mouse
    16 00000000                                 	EXTERN	_io_out8
    17 00000000                                 	EXTERN	_memory_test
    18 00000000                                 	EXTERN	_mem_mgr_init
    19 00000000                                 	EXTERN	_mem_mgr_free
    20 00000000                                 	EXTERN	_init_palette
    21 00000000                                 	EXTERN	_layer_mgr_init
    22 00000000                                 	EXTERN	_task_init
    23 00000000                                 	EXTERN	_task_run
    24 00000000                                 	EXTERN	_layer_alloc
    25 00000000                                 	EXTERN	_mem_mgr_alloc_4k
    26 00000000                                 	EXTERN	_layer_setbuf
    27 00000000                                 	EXTERN	_init_screen
    28 00000000                                 	EXTERN	_make_window8
    29 00000000                                 	EXTERN	_make_text8
    30 00000000                                 	EXTERN	_task_alloc
    31 00000000                                 	EXTERN	_console_task
    32 00000000                                 	EXTERN	_timer_alloc
    33 00000000                                 	EXTERN	_timer_init
    34 00000000                                 	EXTERN	_timer_settimer
    35 00000000                                 	EXTERN	_init_mouse_cursor8
    36 00000000                                 	EXTERN	_layer_slide
    37 00000000                                 	EXTERN	_layer_updown
    38 00000000                                 	EXTERN	_fifo_size
    39 00000000                                 	EXTERN	_io_cli
    40 00000000                                 	EXTERN	_fifo_get
    41 00000000                                 	EXTERN	_layers_refresh
    42 00000000                                 	EXTERN	_mouse_decode
    43 00000000                                 	EXTERN	_console_putstr0
    44 00000000                                 	EXTERN	_asm_stop_user_app
    45 00000000                                 	EXTERN	_wait_kbc_sendready
    46 00000000                                 	EXTERN	_drawstring_and_refresh
    47 00000000                                 	EXTERN	_task_sleep
    48 00000000                                 [FILE "bootpack.c"]
    49                                          [SECTION .text]
    50 00000000                                 _keywin_on:
    51 00000000 55                              	PUSH	EBP
    52 00000001 89 E5                           	MOV	EBP,ESP
    53 00000003 56                              	PUSH	ESI
    54 00000004 53                              	PUSH	EBX
    55 00000005 6A 01                           	PUSH	1
    56 00000007 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
    57 0000000A 53                              	PUSH	EBX
    58 0000000B 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
    59 0000000E E8 [00000000]                   	CALL	_change_wtitle8
    60 00000013 39 5D 0C                        	CMP	DWORD [12+EBP],EBX
    61 00000016 59                              	POP	ECX
    62 00000017 58                              	POP	EAX
    63 00000018 74 21                           	JE	L5
    64 0000001A F6 43 1C 20                     	TEST	BYTE [28+EBX],32
    65 0000001E 75 09                           	JNE	L6
    66 00000020                                 L3:
    67 00000020 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
    68 00000023 89 F0                           	MOV	EAX,ESI
    69 00000025 5B                              	POP	EBX
    70 00000026 5E                              	POP	ESI
    71 00000027 5D                              	POP	EBP
    72 00000028 C3                              	RET
    73 00000029                                 L6:
    74 00000029 6A 02                           	PUSH	2
    75 0000002B 8B 43 24                        	MOV	EAX,DWORD [36+EBX]
    76 0000002E 83 C0 10                        	ADD	EAX,16
    77 00000031 50                              	PUSH	EAX
    78 00000032 E8 [00000000]                   	CALL	_fifo_put
    79 00000037 58                              	POP	EAX
    80 00000038 5A                              	POP	EDX
    81 00000039 EB E5                           	JMP	L3
    82 0000003B                                 L5:
    83 0000003B 31 F6                           	XOR	ESI,ESI
    84 0000003D EB E1                           	JMP	L3
    85 0000003F                                 _keywin_off:
    86 0000003F 55                              	PUSH	EBP
    87 00000040 89 E5                           	MOV	EBP,ESP
    88 00000042 57                              	PUSH	EDI
    89 00000043 56                              	PUSH	ESI
    90 00000044 53                              	PUSH	EBX
    91 00000045 8B 7D 10                        	MOV	EDI,DWORD [16+EBP]
    92 00000048 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
    93 0000004B 6A 00                           	PUSH	0
    94 0000004D 53                              	PUSH	EBX
    95 0000004E 8B 75 14                        	MOV	ESI,DWORD [20+EBP]
    96 00000051 E8 [00000000]                   	CALL	_change_wtitle8
    97 00000056 3B 5D 0C                        	CMP	EBX,DWORD [12+EBP]
    98 00000059 59                              	POP	ECX
    99 0000005A 58                              	POP	EAX
   100 0000005B 74 22                           	JE	L11
   101 0000005D F6 43 1C 20                     	TEST	BYTE [28+EBX],32
   102 00000061 75 0A                           	JNE	L12
   103 00000063                                 L9:
   104 00000063 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   105 00000066 89 F8                           	MOV	EAX,EDI
   106 00000068 5B                              	POP	EBX
   107 00000069 5E                              	POP	ESI
   108 0000006A 5F                              	POP	EDI
   109 0000006B 5D                              	POP	EBP
   110 0000006C C3                              	RET
   111 0000006D                                 L12:
   112 0000006D 6A 03                           	PUSH	3
   113 0000006F 8B 43 24                        	MOV	EAX,DWORD [36+EBX]
   114 00000072 83 C0 10                        	ADD	EAX,16
   115 00000075 50                              	PUSH	EAX
   116 00000076 E8 [00000000]                   	CALL	_fifo_put
   117 0000007B 58                              	POP	EAX
   118 0000007C 5A                              	POP	EDX
   119 0000007D EB E4                           	JMP	L9
   120 0000007F                                 L11:
   121 0000007F 6A 2B                           	PUSH	43
   122 00000081 8D 46 07                        	LEA	EAX,DWORD [7+ESI]
   123 00000084 50                              	PUSH	EAX
   124 00000085 83 CF FF                        	OR	EDI,-1
   125 00000088 6A 1C                           	PUSH	28
   126 0000008A 56                              	PUSH	ESI
   127 0000008B 6A 07                           	PUSH	7
   128 0000008D FF 73 04                        	PUSH	DWORD [4+EBX]
   129 00000090 FF 33                           	PUSH	DWORD [EBX]
   130 00000092 E8 [00000000]                   	CALL	_fill_box8
   131 00000097 83 C4 1C                        	ADD	ESP,28
   132 0000009A EB C7                           	JMP	L9
   133                                          [SECTION .data]
   134 00000000                                 _s_keytable.0:
   135 00000000 00                              	DB	0
   136 00000001 00                              	DB	0
   137 00000002 31                              	DB	49
   138 00000003 32                              	DB	50
   139 00000004 33                              	DB	51
   140 00000005 34                              	DB	52
   141 00000006 35                              	DB	53
   142 00000007 36                              	DB	54
   143 00000008 37                              	DB	55
   144 00000009 38                              	DB	56
   145 0000000A 39                              	DB	57
   146 0000000B 30                              	DB	48
   147 0000000C 2D                              	DB	45
   148 0000000D 3D                              	DB	61
   149 0000000E 00                              	DB	0
   150 0000000F 00                              	DB	0
   151 00000010 51                              	DB	81
   152 00000011 57                              	DB	87
   153 00000012 45                              	DB	69
   154 00000013 52                              	DB	82
   155 00000014 54                              	DB	84
   156 00000015 59                              	DB	89
   157 00000016 55                              	DB	85
   158 00000017 49                              	DB	73
   159 00000018 4F                              	DB	79
   160 00000019 50                              	DB	80
   161 0000001A 5B                              	DB	91
   162 0000001B 5D                              	DB	93
   163 0000001C 00                              	DB	0
   164 0000001D 00                              	DB	0
   165 0000001E 41                              	DB	65
   166 0000001F 53                              	DB	83
   167 00000020 44                              	DB	68
   168 00000021 46                              	DB	70
   169 00000022 47                              	DB	71
   170 00000023 48                              	DB	72
   171 00000024 4A                              	DB	74
   172 00000025 4B                              	DB	75
   173 00000026 4C                              	DB	76
   174 00000027 3B                              	DB	59
   175 00000028 27                              	DB	39
   176 00000029 60                              	DB	96
   177 0000002A 00                              	DB	0
   178 0000002B 5C                              	DB	92
   179 0000002C 5A                              	DB	90
   180 0000002D 58                              	DB	88
   181 0000002E 43                              	DB	67
   182 0000002F 56                              	DB	86
   183 00000030 42                              	DB	66
   184 00000031 4E                              	DB	78
   185 00000032 4D                              	DB	77
   186 00000033 2C                              	DB	44
   187 00000034 2E                              	DB	46
   188 00000035 2F                              	DB	47
   189 00000036 00                              	DB	0
   190 00000037 2A                              	DB	42
   191 00000038 00                              	DB	0
   192 00000039 20                              	DB	32
   193 0000003A 00                              	DB	0
   194 0000003B 00                              	DB	0
   195 0000003C 00                              	DB	0
   196 0000003D 00                              	DB	0
   197 0000003E 00                              	DB	0
   198 0000003F 00                              	DB	0
   199 00000040 00                              	DB	0
   200 00000041 00                              	DB	0
   201 00000042 00                              	DB	0
   202 00000043 00                              	DB	0
   203 00000044 00                              	DB	0
   204 00000045 00                              	DB	0
   205 00000046 00                              	DB	0
   206 00000047 37                              	DB	55
   207 00000048 38                              	DB	56
   208 00000049 39                              	DB	57
   209 0000004A 2D                              	DB	45
   210 0000004B 34                              	DB	52
   211 0000004C 35                              	DB	53
   212 0000004D 36                              	DB	54
   213 0000004E 2B                              	DB	43
   214 0000004F 31                              	DB	49
   215 00000050 32                              	DB	50
   216 00000051 33                              	DB	51
   217 00000052 30                              	DB	48
   218 00000053 2E                              	DB	46
   219 00000054 00                              	DB	0
   220 00000055 00                              	DB	0
   221 00000056 00                              	DB	0
   222 00000057 00                              	DB	0
   223 00000058 00                              	DB	0
   224 00000059 00                              	DB	0
   225 0000005A 00                              	DB	0
   226 0000005B 00                              	DB	0
   227 0000005C 00                              	DB	0
   228 0000005D 00                              	DB	0
   229 0000005E 00                              	DB	0
   230 0000005F 00                              	DB	0
   231 00000060 00                              	DB	0
   232 00000061 00                              	DB	0
   233 00000062 00                              	DB	0
   234 00000063 00                              	DB	0
   235 00000064 00                              	DB	0
   236 00000065 00                              	DB	0
   237 00000066 00                              	DB	0
   238 00000067 00                              	DB	0
   239 00000068 00                              	DB	0
   240 00000069 00                              	DB	0
   241 0000006A 00                              	DB	0
   242 0000006B 00                              	DB	0
   243 0000006C 00                              	DB	0
   244 0000006D 00                              	DB	0
   245 0000006E 00                              	DB	0
   246 0000006F 00                              	DB	0
   247 00000070 00                              	DB	0
   248 00000071 00                              	DB	0
   249 00000072 00                              	DB	0
   250 00000073 00                              	DB	0
   251 00000074 00                              	DB	0
   252 00000075 00                              	DB	0
   253 00000076 00                              	DB	0
   254 00000077 00                              	DB	0
   255 00000078 00                              	DB	0
   256 00000079 00                              	DB	0
   257 0000007A 00                              	DB	0
   258 0000007B 00                              	DB	0
   259 0000007C 00                              	DB	0
   260 0000007D 00                              	DB	0
   261 0000007E 00                              	DB	0
   262 0000007F 00                              	DB	0
   263 00000080                                 _s_keytable_shift.1:
   264 00000080 00                              	DB	0
   265 00000081 00                              	DB	0
   266 00000082 21                              	DB	33
   267 00000083 40                              	DB	64
   268 00000084 23                              	DB	35
   269 00000085 24                              	DB	36
   270 00000086 25                              	DB	37
   271 00000087 5E                              	DB	94
   272 00000088 26                              	DB	38
   273 00000089 2A                              	DB	42
   274 0000008A 28                              	DB	40
   275 0000008B 29                              	DB	41
   276 0000008C 5F                              	DB	95
   277 0000008D 2B                              	DB	43
   278 0000008E 00                              	DB	0
   279 0000008F 00                              	DB	0
   280 00000090 51                              	DB	81
   281 00000091 57                              	DB	87
   282 00000092 45                              	DB	69
   283 00000093 52                              	DB	82
   284 00000094 54                              	DB	84
   285 00000095 59                              	DB	89
   286 00000096 55                              	DB	85
   287 00000097 49                              	DB	73
   288 00000098 4F                              	DB	79
   289 00000099 50                              	DB	80
   290 0000009A 7B                              	DB	123
   291 0000009B 7D                              	DB	125
   292 0000009C 00                              	DB	0
   293 0000009D 00                              	DB	0
   294 0000009E 41                              	DB	65
   295 0000009F 53                              	DB	83
   296 000000A0 44                              	DB	68
   297 000000A1 46                              	DB	70
   298 000000A2 47                              	DB	71
   299 000000A3 48                              	DB	72
   300 000000A4 4A                              	DB	74
   301 000000A5 4B                              	DB	75
   302 000000A6 4C                              	DB	76
   303 000000A7 3A                              	DB	58
   304 000000A8 22                              	DB	34
   305 000000A9 7E                              	DB	126
   306 000000AA 00                              	DB	0
   307 000000AB 7C                              	DB	124
   308 000000AC 5A                              	DB	90
   309 000000AD 58                              	DB	88
   310 000000AE 43                              	DB	67
   311 000000AF 56                              	DB	86
   312 000000B0 42                              	DB	66
   313 000000B1 4E                              	DB	78
   314 000000B2 4D                              	DB	77
   315 000000B3 3C                              	DB	60
   316 000000B4 3E                              	DB	62
   317 000000B5 3F                              	DB	63
   318 000000B6 00                              	DB	0
   319 000000B7 2A                              	DB	42
   320 000000B8 00                              	DB	0
   321 000000B9 20                              	DB	32
   322 000000BA 00                              	DB	0
   323 000000BB 00                              	DB	0
   324 000000BC 00                              	DB	0
   325 000000BD 00                              	DB	0
   326 000000BE 00                              	DB	0
   327 000000BF 00                              	DB	0
   328 000000C0 00                              	DB	0
   329 000000C1 00                              	DB	0
   330 000000C2 00                              	DB	0
   331 000000C3 00                              	DB	0
   332 000000C4 00                              	DB	0
   333 000000C5 00                              	DB	0
   334 000000C6 00                              	DB	0
   335 000000C7 37                              	DB	55
   336 000000C8 38                              	DB	56
   337 000000C9 39                              	DB	57
   338 000000CA 2D                              	DB	45
   339 000000CB 34                              	DB	52
   340 000000CC 35                              	DB	53
   341 000000CD 36                              	DB	54
   342 000000CE 2B                              	DB	43
   343 000000CF 31                              	DB	49
   344 000000D0 32                              	DB	50
   345 000000D1 33                              	DB	51
   346 000000D2 30                              	DB	48
   347 000000D3 2E                              	DB	46
   348 000000D4 00                              	DB	0
   349 000000D5 00                              	DB	0
   350 000000D6 00                              	DB	0
   351 000000D7 00                              	DB	0
   352 000000D8 00                              	DB	0
   353 000000D9 00                              	DB	0
   354 000000DA 00                              	DB	0
   355 000000DB 00                              	DB	0
   356 000000DC 00                              	DB	0
   357 000000DD 00                              	DB	0
   358 000000DE 00                              	DB	0
   359 000000DF 00                              	DB	0
   360 000000E0 00                              	DB	0
   361 000000E1 00                              	DB	0
   362 000000E2 00                              	DB	0
   363 000000E3 00                              	DB	0
   364 000000E4 00                              	DB	0
   365 000000E5 00                              	DB	0
   366 000000E6 00                              	DB	0
   367 000000E7 00                              	DB	0
   368 000000E8 00                              	DB	0
   369 000000E9 00                              	DB	0
   370 000000EA 00                              	DB	0
   371 000000EB 00                              	DB	0
   372 000000EC 00                              	DB	0
   373 000000ED 00                              	DB	0
   374 000000EE 00                              	DB	0
   375 000000EF 00                              	DB	0
   376 000000F0 00                              	DB	0
   377 000000F1 00                              	DB	0
   378 000000F2 00                              	DB	0
   379 000000F3 00                              	DB	0
   380 000000F4 00                              	DB	0
   381 000000F5 00                              	DB	0
   382 000000F6 00                              	DB	0
   383 000000F7 00                              	DB	0
   384 000000F8 00                              	DB	0
   385 000000F9 00                              	DB	0
   386 000000FA 00                              	DB	0
   387 000000FB 00                              	DB	0
   388 000000FC 00                              	DB	0
   389 000000FD 00                              	DB	0
   390 000000FE 00                              	DB	0
   391 000000FF 00                              	DB	0
   392 00000100                                 LC0:
   393 00000100 43 6F 6E 73 6F 6C 65 00         	DB	"Console",0x00
   394 00000108                                 LC1:
   395 00000108 54 41 53 4B 2D 41 00            	DB	"TASK-A",0x00
   396 0000010F                                 LC4:
   397 0000010F 0A 62 72 65 61 6B 28 6D 6F 75   	DB	0x0A,"break(mouse) : ",0x0A,0x00
       00000119 73 65 29 20 3A 20 0A 00 
   398 00000121                                 LC3:
   399 00000121 0A 62 72 65 61 6B 28 6B 65 79   	DB	0x0A,"break(key) :",0x0A,0x00
       0000012B 29 20 3A 0A 00 
   400 00000130                                 LC2:
   401 00000130 20 00                           	DB	" ",0x00
   402                                          [SECTION .text]
   403 0000009C                                 	GLOBAL	_HariMain
   404 0000009C                                 _HariMain:
   405 0000009C 55                              	PUSH	EBP
   406 0000009D 89 E5                           	MOV	EBP,ESP
   407 0000009F 57                              	PUSH	EDI
   408 000000A0 56                              	PUSH	ESI
   409 000000A1 53                              	PUSH	EBX
   410 000000A2 81 EC 00000464                  	SUB	ESP,1124
   411 000000A8 C7 85 FFFFFBB4 00000000         	MOV	DWORD [-1100+EBP],0
   412 000000B2 A0 00000FF1                     	MOV	AL,BYTE [4081]
   413 000000B7 C0 F8 04                        	SAR	AL,4
   414 000000BA 89 C2                           	MOV	EDX,EAX
   415 000000BC 83 E2 07                        	AND	EDX,7
   416 000000BF 89 95 FFFFFBB0                  	MOV	DWORD [-1104+EBP],EDX
   417 000000C5 C7 85 FFFFFBAC FFFFFFFF         	MOV	DWORD [-1108+EBP],-1
   418 000000CF C7 85 FFFFFBA8 FFFFFFFF         	MOV	DWORD [-1112+EBP],-1
   419 000000D9 C7 85 FFFFFBA4 FFFFFFFF         	MOV	DWORD [-1116+EBP],-1
   420 000000E3 C7 85 FFFFFBA0 00000000         	MOV	DWORD [-1120+EBP],0
   421 000000ED E8 [00000000]                   	CALL	_init_gdt_idt
   422 000000F2 E8 [00000000]                   	CALL	_init_pic
   423 000000F7 E8 [00000000]                   	CALL	_io_sti
   424 000000FC 8D 85 FFFFFDB4                  	LEA	EAX,DWORD [-588+EBP]
   425 00000102 6A 00                           	PUSH	0
   426 00000104 68 00000080                     	PUSH	128
   427 00000109 50                              	PUSH	EAX
   428 0000010A 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   429 0000010D 50                              	PUSH	EAX
   430 0000010E E8 [00000000]                   	CALL	_fifo_init
   431 00000113 E8 [00000000]                   	CALL	_init_pit
   432 00000118 8D 55 D4                        	LEA	EDX,DWORD [-44+EBP]
   433 0000011B 68 00000100                     	PUSH	256
   434 00000120 52                              	PUSH	EDX
   435 00000121 E8 [00000000]                   	CALL	_init_keyboard
   436 00000126 8D 85 FFFFFCE4                  	LEA	EAX,DWORD [-796+EBP]
   437 0000012C 50                              	PUSH	EAX
   438 0000012D 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   439 00000130 68 00000200                     	PUSH	512
   440 00000135 50                              	PUSH	EAX
   441 00000136 E8 [00000000]                   	CALL	_enable_mouse
   442 0000013B 83 C4 24                        	ADD	ESP,36
   443 0000013E 68 000000F8                     	PUSH	248
   444 00000143 6A 21                           	PUSH	33
   445 00000145 E8 [00000000]                   	CALL	_io_out8
   446 0000014A 68 000000EF                     	PUSH	239
   447 0000014F 68 000000A1                     	PUSH	161
   448 00000154 E8 [00000000]                   	CALL	_io_out8
   449 00000159 8D 55 B4                        	LEA	EDX,DWORD [-76+EBP]
   450 0000015C 6A 00                           	PUSH	0
   451 0000015E 8D 85 FFFFFD34                  	LEA	EAX,DWORD [-716+EBP]
   452 00000164 6A 20                           	PUSH	32
   453 00000166 50                              	PUSH	EAX
   454 00000167 52                              	PUSH	EDX
   455 00000168 E8 [00000000]                   	CALL	_fifo_init
   456 0000016D 83 C4 20                        	ADD	ESP,32
   457 00000170 68 BFFFFFFF                     	PUSH	-1073741825
   458 00000175 68 00400000                     	PUSH	4194304
   459 0000017A E8 [00000000]                   	CALL	_memory_test
   460 0000017F 68 003C0000                     	PUSH	3932160
   461 00000184 89 85 FFFFFBD0                  	MOV	DWORD [-1072+EBP],EAX
   462 0000018A E8 [00000000]                   	CALL	_mem_mgr_init
   463 0000018F 68 0009E000                     	PUSH	647168
   464 00000194 68 00001000                     	PUSH	4096
   465 00000199 68 003C0000                     	PUSH	3932160
   466 0000019E E8 [00000000]                   	CALL	_mem_mgr_free
   467 000001A3 8B 85 FFFFFBD0                  	MOV	EAX,DWORD [-1072+EBP]
   468 000001A9 2D 00400000                     	SUB	EAX,4194304
   469 000001AE 50                              	PUSH	EAX
   470 000001AF 68 00400000                     	PUSH	4194304
   471 000001B4 68 003C0000                     	PUSH	3932160
   472 000001B9 E8 [00000000]                   	CALL	_mem_mgr_free
   473 000001BE 83 C4 24                        	ADD	ESP,36
   474 000001C1 E8 [00000000]                   	CALL	_init_palette
   475 000001C6 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   476 000001CD 50                              	PUSH	EAX
   477 000001CE 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   478 000001D5 50                              	PUSH	EAX
   479 000001D6 FF 35 00000FF8                  	PUSH	DWORD [4088]
   480 000001DC 68 003C0000                     	PUSH	3932160
   481 000001E1 E8 [00000000]                   	CALL	_layer_mgr_init
   482 000001E6 68 003C0000                     	PUSH	3932160
   483 000001EB 89 85 FFFFFBCC                  	MOV	DWORD [-1076+EBP],EAX
   484 000001F1 E8 [00000000]                   	CALL	_task_init
   485 000001F6 6A 02                           	PUSH	2
   486 000001F8 6A 01                           	PUSH	1
   487 000001FA 89 85 FFFFFBC0                  	MOV	DWORD [-1088+EBP],EAX
   488 00000200 50                              	PUSH	EAX
   489 00000201 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   490 00000204 E8 [00000000]                   	CALL	_task_run
   491 00000209 83 C4 20                        	ADD	ESP,32
   492 0000020C 8B 85 FFFFFBCC                  	MOV	EAX,DWORD [-1076+EBP]
   493 00000212 A3 00000FE4                     	MOV	DWORD [4068],EAX
   494 00000217 50                              	PUSH	EAX
   495 00000218 E8 [00000000]                   	CALL	_layer_alloc
   496 0000021D 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
   497 00000224 89 85 FFFFFBC8                  	MOV	DWORD [-1080+EBP],EAX
   498 0000022A 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   499 00000231 0F AF C2                        	IMUL	EAX,EDX
   500 00000234 50                              	PUSH	EAX
   501 00000235 68 003C0000                     	PUSH	3932160
   502 0000023A E8 [00000000]                   	CALL	_mem_mgr_alloc_4k
   503 0000023F 6A FF                           	PUSH	-1
   504 00000241 89 C3                           	MOV	EBX,EAX
   505 00000243 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   506 0000024A 50                              	PUSH	EAX
   507 0000024B 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   508 00000252 50                              	PUSH	EAX
   509 00000253 53                              	PUSH	EBX
   510 00000254 FF B5 FFFFFBC8                  	PUSH	DWORD [-1080+EBP]
   511 0000025A E8 [00000000]                   	CALL	_layer_setbuf
   512 0000025F 83 C4 20                        	ADD	ESP,32
   513 00000262 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   514 00000269 50                              	PUSH	EAX
   515 0000026A 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   516 00000271 50                              	PUSH	EAX
   517 00000272 53                              	PUSH	EBX
   518 00000273 E8 [00000000]                   	CALL	_init_screen
   519 00000278 FF B5 FFFFFBCC                  	PUSH	DWORD [-1076+EBP]
   520 0000027E E8 [00000000]                   	CALL	_layer_alloc
   521 00000283 68 0000A500                     	PUSH	42240
   522 00000288 68 003C0000                     	PUSH	3932160
   523 0000028D 89 C6                           	MOV	ESI,EAX
   524 0000028F E8 [00000000]                   	CALL	_mem_mgr_alloc_4k
   525 00000294 6A FF                           	PUSH	-1
   526 00000296 68 000000A5                     	PUSH	165
   527 0000029B 89 C3                           	MOV	EBX,EAX
   528 0000029D 68 00000100                     	PUSH	256
   529 000002A2 50                              	PUSH	EAX
   530 000002A3 56                              	PUSH	ESI
   531 000002A4 E8 [00000000]                   	CALL	_layer_setbuf
   532 000002A9 83 C4 2C                        	ADD	ESP,44
   533 000002AC 6A 00                           	PUSH	0
   534 000002AE 68 [00000100]                   	PUSH	LC0
   535 000002B3 68 000000A5                     	PUSH	165
   536 000002B8 68 00000100                     	PUSH	256
   537 000002BD 53                              	PUSH	EBX
   538 000002BE E8 [00000000]                   	CALL	_make_window8
   539 000002C3 6A 00                           	PUSH	0
   540 000002C5 68 00000080                     	PUSH	128
   541 000002CA 68 000000F0                     	PUSH	240
   542 000002CF 6A 1C                           	PUSH	28
   543 000002D1 6A 08                           	PUSH	8
   544 000002D3 56                              	PUSH	ESI
   545 000002D4 E8 [00000000]                   	CALL	_make_text8
   546 000002D9 83 C4 2C                        	ADD	ESP,44
   547 000002DC E8 [00000000]                   	CALL	_task_alloc
   548 000002E1 68 00010000                     	PUSH	65536
   549 000002E6 68 003C0000                     	PUSH	3932160
   550 000002EB 89 85 FFFFFBBC                  	MOV	DWORD [-1092+EBP],EAX
   551 000002F1 E8 [00000000]                   	CALL	_mem_mgr_alloc_4k
   552 000002F6 8B 95 FFFFFBBC                  	MOV	EDX,DWORD [-1092+EBP]
   553 000002FC 05 0000FFF4                     	ADD	EAX,65524
   554 00000301 89 42 64                        	MOV	DWORD [100+EDX],EAX
   555 00000304 C7 42 4C [00000000]             	MOV	DWORD [76+EDX],_console_task
   556 0000030B C7 42 74 00000008               	MOV	DWORD [116+EDX],8
   557 00000312 C7 42 78 00000010               	MOV	DWORD [120+EDX],16
   558 00000319 C7 42 7C 00000008               	MOV	DWORD [124+EDX],8
   559 00000320 C7 82 00000080 00000008         	MOV	DWORD [128+EDX],8
   560 0000032A C7 82 00000084 00000008         	MOV	DWORD [132+EDX],8
   561 00000334 C7 82 00000088 00000008         	MOV	DWORD [136+EDX],8
   562 0000033E 89 70 04                        	MOV	DWORD [4+EAX],ESI
   563 00000341 8B 42 64                        	MOV	EAX,DWORD [100+EDX]
   564 00000344 8B 95 FFFFFBD0                  	MOV	EDX,DWORD [-1072+EBP]
   565 0000034A 89 50 08                        	MOV	DWORD [8+EAX],EDX
   566 0000034D 6A 02                           	PUSH	2
   567 0000034F 6A 02                           	PUSH	2
   568 00000351 FF B5 FFFFFBBC                  	PUSH	DWORD [-1092+EBP]
   569 00000357 E8 [00000000]                   	CALL	_task_run
   570 0000035C FF B5 FFFFFBCC                  	PUSH	DWORD [-1076+EBP]
   571 00000362 E8 [00000000]                   	CALL	_layer_alloc
   572 00000367 68 00002080                     	PUSH	8320
   573 0000036C 68 003C0000                     	PUSH	3932160
   574 00000371 89 C7                           	MOV	EDI,EAX
   575 00000373 E8 [00000000]                   	CALL	_mem_mgr_alloc_4k
   576 00000378 83 C4 20                        	ADD	ESP,32
   577 0000037B 89 C3                           	MOV	EBX,EAX
   578 0000037D 6A FF                           	PUSH	-1
   579 0000037F 6A 34                           	PUSH	52
   580 00000381 68 00000090                     	PUSH	144
   581 00000386 50                              	PUSH	EAX
   582 00000387 57                              	PUSH	EDI
   583 00000388 E8 [00000000]                   	CALL	_layer_setbuf
   584 0000038D 6A 01                           	PUSH	1
   585 0000038F 68 [00000108]                   	PUSH	LC1
   586 00000394 6A 34                           	PUSH	52
   587 00000396 68 00000090                     	PUSH	144
   588 0000039B 53                              	PUSH	EBX
   589 0000039C 8D 9D FFFFFBE4                  	LEA	EBX,DWORD [-1052+EBP]
   590 000003A2 E8 [00000000]                   	CALL	_make_window8
   591 000003A7 83 C4 28                        	ADD	ESP,40
   592 000003AA 6A 07                           	PUSH	7
   593 000003AC 6A 10                           	PUSH	16
   594 000003AE 68 00000080                     	PUSH	128
   595 000003B3 6A 1C                           	PUSH	28
   596 000003B5 6A 08                           	PUSH	8
   597 000003B7 57                              	PUSH	EDI
   598 000003B8 E8 [00000000]                   	CALL	_make_text8
   599 000003BD C7 85 FFFFFBD8 00000008         	MOV	DWORD [-1064+EBP],8
   600 000003C7 C7 85 FFFFFBD4 00000007         	MOV	DWORD [-1068+EBP],7
   601 000003D1 E8 [00000000]                   	CALL	_timer_alloc
   602 000003D6 6A 01                           	PUSH	1
   603 000003D8 89 85 FFFFFBB8                  	MOV	DWORD [-1096+EBP],EAX
   604 000003DE 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   605 000003E1 50                              	PUSH	EAX
   606 000003E2 FF B5 FFFFFBB8                  	PUSH	DWORD [-1096+EBP]
   607 000003E8 E8 [00000000]                   	CALL	_timer_init
   608 000003ED 83 C4 24                        	ADD	ESP,36
   609 000003F0 6A 32                           	PUSH	50
   610 000003F2 FF B5 FFFFFBB8                  	PUSH	DWORD [-1096+EBP]
   611 000003F8 E8 [00000000]                   	CALL	_timer_settimer
   612 000003FD FF B5 FFFFFBCC                  	PUSH	DWORD [-1076+EBP]
   613 00000403 E8 [00000000]                   	CALL	_layer_alloc
   614 00000408 6A 63                           	PUSH	99
   615 0000040A 6A 10                           	PUSH	16
   616 0000040C 6A 10                           	PUSH	16
   617 0000040E 89 85 FFFFFBC4                  	MOV	DWORD [-1084+EBP],EAX
   618 00000414 53                              	PUSH	EBX
   619 00000415 50                              	PUSH	EAX
   620 00000416 E8 [00000000]                   	CALL	_layer_setbuf
   621 0000041B 83 C4 20                        	ADD	ESP,32
   622 0000041E 6A 63                           	PUSH	99
   623 00000420 53                              	PUSH	EBX
   624 00000421 BB 00000002                     	MOV	EBX,2
   625 00000426 E8 [00000000]                   	CALL	_init_mouse_cursor8
   626 0000042B 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   627 00000432 8D 48 F0                        	LEA	ECX,DWORD [-16+EAX]
   628 00000435 89 C8                           	MOV	EAX,ECX
   629 00000437 99                              	CDQ
   630 00000438 F7 FB                           	IDIV	EBX
   631 0000043A 89 85 FFFFFBE0                  	MOV	DWORD [-1056+EBP],EAX
   632 00000440 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   633 00000447 6A 00                           	PUSH	0
   634 00000449 8D 48 D4                        	LEA	ECX,DWORD [-44+EAX]
   635 0000044C 6A 00                           	PUSH	0
   636 0000044E 89 C8                           	MOV	EAX,ECX
   637 00000450 99                              	CDQ
   638 00000451 F7 FB                           	IDIV	EBX
   639 00000453 FF B5 FFFFFBC8                  	PUSH	DWORD [-1080+EBP]
   640 00000459 89 85 FFFFFBDC                  	MOV	DWORD [-1060+EBP],EAX
   641 0000045F E8 [00000000]                   	CALL	_layer_slide
   642 00000464 6A 04                           	PUSH	4
   643 00000466 6A 20                           	PUSH	32
   644 00000468 56                              	PUSH	ESI
   645 00000469 E8 [00000000]                   	CALL	_layer_slide
   646 0000046E 83 C4 20                        	ADD	ESP,32
   647 00000471 6A 38                           	PUSH	56
   648 00000473 6A 40                           	PUSH	64
   649 00000475 57                              	PUSH	EDI
   650 00000476 E8 [00000000]                   	CALL	_layer_slide
   651 0000047B FF B5 FFFFFBDC                  	PUSH	DWORD [-1060+EBP]
   652 00000481 FF B5 FFFFFBE0                  	PUSH	DWORD [-1056+EBP]
   653 00000487 FF B5 FFFFFBC4                  	PUSH	DWORD [-1084+EBP]
   654 0000048D E8 [00000000]                   	CALL	_layer_slide
   655 00000492 6A 00                           	PUSH	0
   656 00000494 FF B5 FFFFFBC8                  	PUSH	DWORD [-1080+EBP]
   657 0000049A E8 [00000000]                   	CALL	_layer_updown
   658 0000049F 83 C4 20                        	ADD	ESP,32
   659 000004A2 6A 01                           	PUSH	1
   660 000004A4 56                              	PUSH	ESI
   661 000004A5 E8 [00000000]                   	CALL	_layer_updown
   662 000004AA 6A 02                           	PUSH	2
   663 000004AC 57                              	PUSH	EDI
   664 000004AD E8 [00000000]                   	CALL	_layer_updown
   665 000004B2 6A 03                           	PUSH	3
   666 000004B4 FF B5 FFFFFBC4                  	PUSH	DWORD [-1084+EBP]
   667 000004BA E8 [00000000]                   	CALL	_layer_updown
   668 000004BF 8D 45 B4                        	LEA	EAX,DWORD [-76+EBP]
   669 000004C2 8B 95 FFFFFBBC                  	MOV	EDX,DWORD [-1092+EBP]
   670 000004C8 89 BD FFFFFB9C                  	MOV	DWORD [-1124+EBP],EDI
   671 000004CE 83 4E 1C 20                     	OR	DWORD [28+ESI],32
   672 000004D2 89 56 24                        	MOV	DWORD [36+ESI],EDX
   673 000004D5 68 000000ED                     	PUSH	237
   674 000004DA 50                              	PUSH	EAX
   675 000004DB E8 [00000000]                   	CALL	_fifo_put
   676 000004E0 8D 55 B4                        	LEA	EDX,DWORD [-76+EBP]
   677 000004E3 83 C4 20                        	ADD	ESP,32
   678 000004E6 FF B5 FFFFFBB0                  	PUSH	DWORD [-1104+EBP]
   679 000004EC 52                              	PUSH	EDX
   680 000004ED E8 [00000000]                   	CALL	_fifo_put
   681 000004F2                                 L85:
   682 000004F2 59                              	POP	ECX
   683 000004F3 5B                              	POP	EBX
   684 000004F4                                 L14:
   685 000004F4 8D 5D B4                        	LEA	EBX,DWORD [-76+EBP]
   686 000004F7 53                              	PUSH	EBX
   687 000004F8 E8 [00000000]                   	CALL	_fifo_size
   688 000004FD 5A                              	POP	EDX
   689 000004FE 85 C0                           	TEST	EAX,EAX
   690 00000500 7E 0D                           	JLE	L17
   691 00000502 83 BD FFFFFBAC 00               	CMP	DWORD [-1108+EBP],0
   692 00000509 0F 88 000007F1                  	JS	L88
   693 0000050F                                 L17:
   694 0000050F 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
   695 00000512 E8 [00000000]                   	CALL	_io_cli
   696 00000517 53                              	PUSH	EBX
   697 00000518 E8 [00000000]                   	CALL	_fifo_size
   698 0000051D 5E                              	POP	ESI
   699 0000051E 85 C0                           	TEST	EAX,EAX
   700 00000520 0F 84 000007C4                  	JE	L89
   701 00000526 53                              	PUSH	EBX
   702 00000527 E8 [00000000]                   	CALL	_fifo_get
   703 0000052C 89 C6                           	MOV	ESI,EAX
   704 0000052E E8 [00000000]                   	CALL	_io_sti
   705 00000533 8B 85 FFFFFB9C                  	MOV	EAX,DWORD [-1124+EBP]
   706 00000539 59                              	POP	ECX
   707 0000053A 83 78 1C 00                     	CMP	DWORD [28+EAX],0
   708 0000053E 75 29                           	JNE	L20
   709 00000540 8B 95 FFFFFBCC                  	MOV	EDX,DWORD [-1076+EBP]
   710 00000546 8B 42 10                        	MOV	EAX,DWORD [16+EDX]
   711 00000549 8B 44 82 10                     	MOV	EAX,DWORD [16+EDX+EAX*4]
   712 0000054D FF B5 FFFFFBD4                  	PUSH	DWORD [-1068+EBP]
   713 00000553 57                              	PUSH	EDI
   714 00000554 89 85 FFFFFB9C                  	MOV	DWORD [-1124+EBP],EAX
   715 0000055A 50                              	PUSH	EAX
   716 0000055B E8 FFFFFAA0                     	CALL	_keywin_on
   717 00000560 83 C4 0C                        	ADD	ESP,12
   718 00000563 89 85 FFFFFBD4                  	MOV	DWORD [-1068+EBP],EAX
   719 00000569                                 L20:
   720 00000569 8D 86 FFFFFF00                  	LEA	EAX,DWORD [-256+ESI]
   721 0000056F 3D 000000FF                     	CMP	EAX,255
   722 00000574 0F 86 00000360                  	JBE	L90
   723 0000057A 8D 86 FFFFFE00                  	LEA	EAX,DWORD [-512+ESI]
   724 00000580 3D 000000FF                     	CMP	EAX,255
   725 00000585 0F 86 000000C6                  	JBE	L91
   726 0000058B 83 FE 01                        	CMP	ESI,1
   727 0000058E 0F 8F FFFFFF60                  	JG	L14
   728 00000594 85 F6                           	TEST	ESI,ESI
   729 00000596 0F 84 00000088                  	JE	L78
   730 0000059C 6A 00                           	PUSH	0
   731 0000059E 53                              	PUSH	EBX
   732 0000059F FF B5 FFFFFBB8                  	PUSH	DWORD [-1096+EBP]
   733 000005A5 E8 [00000000]                   	CALL	_timer_init
   734 000005AA 83 C4 0C                        	ADD	ESP,12
   735 000005AD 83 BD FFFFFBD4 00               	CMP	DWORD [-1068+EBP],0
   736 000005B4 78 0A                           	JS	L80
   737 000005B6 C7 85 FFFFFBD4 00000000         	MOV	DWORD [-1068+EBP],0
   738 000005C0                                 L80:
   739 000005C0 6A 32                           	PUSH	50
   740 000005C2 FF B5 FFFFFBB8                  	PUSH	DWORD [-1096+EBP]
   741 000005C8 E8 [00000000]                   	CALL	_timer_settimer
   742 000005CD 58                              	POP	EAX
   743 000005CE 5A                              	POP	EDX
   744 000005CF 83 BD FFFFFBD4 00               	CMP	DWORD [-1068+EBP],0
   745 000005D6 0F 88 FFFFFF18                  	JS	L14
   746 000005DC 8B 85 FFFFFBD8                  	MOV	EAX,DWORD [-1064+EBP]
   747 000005E2 6A 2B                           	PUSH	43
   748 000005E4 83 C0 07                        	ADD	EAX,7
   749 000005E7 50                              	PUSH	EAX
   750 000005E8 6A 1C                           	PUSH	28
   751 000005EA FF B5 FFFFFBD8                  	PUSH	DWORD [-1064+EBP]
   752 000005F0 0F B6 85 FFFFFBD4               	MOVZX	EAX,BYTE [-1068+EBP]
   753 000005F7 50                              	PUSH	EAX
   754 000005F8 FF 77 04                        	PUSH	DWORD [4+EDI]
   755 000005FB FF 37                           	PUSH	DWORD [EDI]
   756 000005FD E8 [00000000]                   	CALL	_fill_box8
   757 00000602 8B 85 FFFFFBD8                  	MOV	EAX,DWORD [-1064+EBP]
   758 00000608 6A 2C                           	PUSH	44
   759 0000060A 83 C0 08                        	ADD	EAX,8
   760 0000060D 50                              	PUSH	EAX
   761 0000060E 6A 1C                           	PUSH	28
   762 00000610 FF B5 FFFFFBD8                  	PUSH	DWORD [-1064+EBP]
   763 00000616 57                              	PUSH	EDI
   764 00000617 E8 [00000000]                   	CALL	_layers_refresh
   765 0000061C 83 C4 30                        	ADD	ESP,48
   766 0000061F E9 FFFFFED0                     	JMP	L14
   767 00000624                                 L78:
   768 00000624 6A 01                           	PUSH	1
   769 00000626 53                              	PUSH	EBX
   770 00000627 FF B5 FFFFFBB8                  	PUSH	DWORD [-1096+EBP]
   771 0000062D E8 [00000000]                   	CALL	_timer_init
   772 00000632 83 C4 0C                        	ADD	ESP,12
   773 00000635 83 BD FFFFFBD4 00               	CMP	DWORD [-1068+EBP],0
   774 0000063C 0F 88 FFFFFF7E                  	JS	L80
   775 00000642 C7 85 FFFFFBD4 00000007         	MOV	DWORD [-1068+EBP],7
   776 0000064C E9 FFFFFF6F                     	JMP	L80
   777 00000651                                 L91:
   778 00000651 89 F2                           	MOV	EDX,ESI
   779 00000653 0F B6 C2                        	MOVZX	EAX,DL
   780 00000656 50                              	PUSH	EAX
   781 00000657 8D 85 FFFFFCE4                  	LEA	EAX,DWORD [-796+EBP]
   782 0000065D 50                              	PUSH	EAX
   783 0000065E E8 [00000000]                   	CALL	_mouse_decode
   784 00000663 5A                              	POP	EDX
   785 00000664 59                              	POP	ECX
   786 00000665 85 C0                           	TEST	EAX,EAX
   787 00000667 0F 84 FFFFFE87                  	JE	L14
   788 0000066D 8B 85 FFFFFCEC                  	MOV	EAX,DWORD [-788+EBP]
   789 00000673 8B 95 FFFFFCE8                  	MOV	EDX,DWORD [-792+EBP]
   790 00000679 01 85 FFFFFBDC                  	ADD	DWORD [-1060+EBP],EAX
   791 0000067F 01 95 FFFFFBE0                  	ADD	DWORD [-1056+EBP],EDX
   792 00000685 0F 88 00000240                  	JS	L92
   793 0000068B                                 L57:
   794 0000068B 83 BD FFFFFBDC 00               	CMP	DWORD [-1060+EBP],0
   795 00000692 0F 88 00000224                  	JS	L93
   796 00000698                                 L58:
   797 00000698 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   798 0000069F 48                              	DEC	EAX
   799 000006A0 39 85 FFFFFBE0                  	CMP	DWORD [-1056+EBP],EAX
   800 000006A6 7E 06                           	JLE	L59
   801 000006A8 89 85 FFFFFBE0                  	MOV	DWORD [-1056+EBP],EAX
   802 000006AE                                 L59:
   803 000006AE 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   804 000006B5 48                              	DEC	EAX
   805 000006B6 39 85 FFFFFBDC                  	CMP	DWORD [-1060+EBP],EAX
   806 000006BC 7E 06                           	JLE	L60
   807 000006BE 89 85 FFFFFBDC                  	MOV	DWORD [-1060+EBP],EAX
   808 000006C4                                 L60:
   809 000006C4 FF B5 FFFFFBDC                  	PUSH	DWORD [-1060+EBP]
   810 000006CA FF B5 FFFFFBE0                  	PUSH	DWORD [-1056+EBP]
   811 000006D0 FF B5 FFFFFBC4                  	PUSH	DWORD [-1084+EBP]
   812 000006D6 E8 [00000000]                   	CALL	_layer_slide
   813 000006DB 83 C4 0C                        	ADD	ESP,12
   814 000006DE F7 85 FFFFFCF0 00000001         	TEST	DWORD [-784+EBP],1
   815 000006E8 75 0F                           	JNE	L94
   816 000006EA C7 85 FFFFFBA8 FFFFFFFF         	MOV	DWORD [-1112+EBP],-1
   817 000006F4 E9 FFFFFDFB                     	JMP	L14
   818 000006F9                                 L94:
   819 000006F9 83 BD FFFFFBA8 00               	CMP	DWORD [-1112+EBP],0
   820 00000700 78 4C                           	JS	L95
   821 00000702 8B 9D FFFFFBDC                  	MOV	EBX,DWORD [-1060+EBP]
   822 00000708 8B 85 FFFFFBA0                  	MOV	EAX,DWORD [-1120+EBP]
   823 0000070E 2B 9D FFFFFBA4                  	SUB	EBX,DWORD [-1116+EBP]
   824 00000714 8B B5 FFFFFBE0                  	MOV	ESI,DWORD [-1056+EBP]
   825 0000071A 2B B5 FFFFFBA8                  	SUB	ESI,DWORD [-1112+EBP]
   826 00000720 03 58 10                        	ADD	EBX,DWORD [16+EAX]
   827 00000723 53                              	PUSH	EBX
   828 00000724 03 70 0C                        	ADD	ESI,DWORD [12+EAX]
   829 00000727 56                              	PUSH	ESI
   830 00000728 50                              	PUSH	EAX
   831 00000729 E8 [00000000]                   	CALL	_layer_slide
   832 0000072E 83 C4 0C                        	ADD	ESP,12
   833 00000731 8B 95 FFFFFBE0                  	MOV	EDX,DWORD [-1056+EBP]
   834 00000737 8B 85 FFFFFBDC                  	MOV	EAX,DWORD [-1060+EBP]
   835 0000073D 89 95 FFFFFBA8                  	MOV	DWORD [-1112+EBP],EDX
   836 00000743 89 85 FFFFFBA4                  	MOV	DWORD [-1116+EBP],EAX
   837 00000749 E9 FFFFFDA6                     	JMP	L14
   838 0000074E                                 L95:
   839 0000074E 8B 85 FFFFFBCC                  	MOV	EAX,DWORD [-1076+EBP]
   840 00000754 8B 40 10                        	MOV	EAX,DWORD [16+EAX]
   841 00000757 89 85 FFFFFB94                  	MOV	DWORD [-1132+EBP],EAX
   842 0000075D 89 C1                           	MOV	ECX,EAX
   843 0000075F                                 L87:
   844 0000075F 49                              	DEC	ECX
   845 00000760 85 C9                           	TEST	ECX,ECX
   846 00000762 0F 8E FFFFFD8C                  	JLE	L14
   847 00000768 8B 95 FFFFFBCC                  	MOV	EDX,DWORD [-1076+EBP]
   848 0000076E 8B 9D FFFFFBDC                  	MOV	EBX,DWORD [-1060+EBP]
   849 00000774 8B B5 FFFFFBE0                  	MOV	ESI,DWORD [-1056+EBP]
   850 0000077A 8B 54 8A 14                     	MOV	EDX,DWORD [20+EDX+ECX*4]
   851 0000077E 89 95 FFFFFBA0                  	MOV	DWORD [-1120+EBP],EDX
   852 00000784 2B 5A 10                        	SUB	EBX,DWORD [16+EDX]
   853 00000787 2B 72 0C                        	SUB	ESI,DWORD [12+EDX]
   854 0000078A 78 D3                           	JS	L87
   855 0000078C 8B 42 04                        	MOV	EAX,DWORD [4+EDX]
   856 0000078F 39 C6                           	CMP	ESI,EAX
   857 00000791 7D CC                           	JGE	L87
   858 00000793 85 DB                           	TEST	EBX,EBX
   859 00000795 78 C8                           	JS	L87
   860 00000797 3B 5A 08                        	CMP	EBX,DWORD [8+EDX]
   861 0000079A 7D C3                           	JGE	L87
   862 0000079C 0F AF C3                        	IMUL	EAX,EBX
   863 0000079F 89 85 FFFFFB90                  	MOV	DWORD [-1136+EBP],EAX
   864 000007A5 8B 12                           	MOV	EDX,DWORD [EDX]
   865 000007A7 8B 85 FFFFFB90                  	MOV	EAX,DWORD [-1136+EBP]
   866 000007AD 01 F0                           	ADD	EAX,ESI
   867 000007AF 0F B6 04 10                     	MOVZX	EAX,BYTE [EAX+EDX*1]
   868 000007B3 8B 95 FFFFFBA0                  	MOV	EDX,DWORD [-1120+EBP]
   869 000007B9 3B 42 14                        	CMP	EAX,DWORD [20+EDX]
   870 000007BC 74 A1                           	JE	L87
   871 000007BE 8B 85 FFFFFB94                  	MOV	EAX,DWORD [-1132+EBP]
   872 000007C4 48                              	DEC	EAX
   873 000007C5 50                              	PUSH	EAX
   874 000007C6 52                              	PUSH	EDX
   875 000007C7 E8 [00000000]                   	CALL	_layer_updown
   876 000007CC 59                              	POP	ECX
   877 000007CD 58                              	POP	EAX
   878 000007CE 8B 85 FFFFFB9C                  	MOV	EAX,DWORD [-1124+EBP]
   879 000007D4 39 85 FFFFFBA0                  	CMP	DWORD [-1120+EBP],EAX
   880 000007DA 74 30                           	JE	L69
   881 000007DC FF B5 FFFFFBD8                  	PUSH	DWORD [-1064+EBP]
   882 000007E2 FF B5 FFFFFBD4                  	PUSH	DWORD [-1068+EBP]
   883 000007E8 57                              	PUSH	EDI
   884 000007E9 50                              	PUSH	EAX
   885 000007EA E8 FFFFF850                     	CALL	_keywin_off
   886 000007EF 8B 95 FFFFFBA0                  	MOV	EDX,DWORD [-1120+EBP]
   887 000007F5 89 95 FFFFFB9C                  	MOV	DWORD [-1124+EBP],EDX
   888 000007FB 50                              	PUSH	EAX
   889 000007FC 57                              	PUSH	EDI
   890 000007FD 52                              	PUSH	EDX
   891 000007FE E8 FFFFF7FD                     	CALL	_keywin_on
   892 00000803 83 C4 1C                        	ADD	ESP,28
   893 00000806 89 85 FFFFFBD4                  	MOV	DWORD [-1068+EBP],EAX
   894 0000080C                                 L69:
   895 0000080C 83 FE 02                        	CMP	ESI,2
   896 0000080F 7E 32                           	JLE	L70
   897 00000811 8B 95 FFFFFBA0                  	MOV	EDX,DWORD [-1120+EBP]
   898 00000817 8B 42 04                        	MOV	EAX,DWORD [4+EDX]
   899 0000081A 83 E8 03                        	SUB	EAX,3
   900 0000081D 39 C6                           	CMP	ESI,EAX
   901 0000081F 7D 22                           	JGE	L70
   902 00000821 83 FB 02                        	CMP	EBX,2
   903 00000824 7E 1D                           	JLE	L70
   904 00000826 83 FB 14                        	CMP	EBX,20
   905 00000829 7F 18                           	JG	L70
   906 0000082B 8B 85 FFFFFBE0                  	MOV	EAX,DWORD [-1056+EBP]
   907 00000831 8B 95 FFFFFBDC                  	MOV	EDX,DWORD [-1060+EBP]
   908 00000837 89 85 FFFFFBA8                  	MOV	DWORD [-1112+EBP],EAX
   909 0000083D 89 95 FFFFFBA4                  	MOV	DWORD [-1116+EBP],EDX
   910 00000843                                 L70:
   911 00000843 8B 85 FFFFFBA0                  	MOV	EAX,DWORD [-1120+EBP]
   912 00000849 8B 50 04                        	MOV	EDX,DWORD [4+EAX]
   913 0000084C 8D 42 EB                        	LEA	EAX,DWORD [-21+EDX]
   914 0000084F 39 F0                           	CMP	EAX,ESI
   915 00000851 0F 8F FFFFFC9D                  	JG	L14
   916 00000857 8D 42 FB                        	LEA	EAX,DWORD [-5+EDX]
   917 0000085A 39 C6                           	CMP	ESI,EAX
   918 0000085C 0F 8D FFFFFC92                  	JGE	L14
   919 00000862 83 FB 04                        	CMP	EBX,4
   920 00000865 0F 8E FFFFFC89                  	JLE	L14
   921 0000086B 83 FB 12                        	CMP	EBX,18
   922 0000086E 0F 8F FFFFFC80                  	JG	L14
   923 00000874 8B 95 FFFFFBA0                  	MOV	EDX,DWORD [-1120+EBP]
   924 0000087A F6 42 1C 10                     	TEST	BYTE [28+EDX],16
   925 0000087E 0F 84 FFFFFC70                  	JE	L14
   926 00000884 68 [0000010F]                   	PUSH	LC4
   927 00000889 FF 35 00000FEC                  	PUSH	DWORD [4076]
   928 0000088F E8 [00000000]                   	CALL	_console_putstr0
   929 00000894 E8 [00000000]                   	CALL	_io_cli
   930 00000899 8B 95 FFFFFBBC                  	MOV	EDX,DWORD [-1092+EBP]
   931 0000089F 8B 85 FFFFFBBC                  	MOV	EAX,DWORD [-1092+EBP]
   932 000008A5 83 C0 30                        	ADD	EAX,48
   933 000008A8 89 42 54                        	MOV	DWORD [84+EDX],EAX
   934 000008AB C7 42 4C [00000000]             	MOV	DWORD [76+EDX],_asm_stop_user_app
   935 000008B2 E8 [00000000]                   	CALL	_io_sti
   936 000008B7 E9 FFFFFC36                     	JMP	L85
   937 000008BC                                 L93:
   938 000008BC C7 85 FFFFFBDC 00000000         	MOV	DWORD [-1060+EBP],0
   939 000008C6 E9 FFFFFDCD                     	JMP	L58
   940 000008CB                                 L92:
   941 000008CB C7 85 FFFFFBE0 00000000         	MOV	DWORD [-1056+EBP],0
   942 000008D5 E9 FFFFFDB1                     	JMP	L57
   943 000008DA                                 L90:
   944 000008DA 81 FE 0000017F                  	CMP	ESI,383
   945 000008E0 0F 8F 000003F8                  	JG	L22
   946 000008E6 83 BD FFFFFBB4 00               	CMP	DWORD [-1100+EBP],0
   947 000008ED 0F 85 000003E0                  	JNE	L23
   948 000008F3 8A 86 [FFFFFF00]                	MOV	AL,BYTE [_s_keytable.0-256+ESI]
   949 000008F9                                 L86:
   950 000008F9 88 85 FFFFFCF4                  	MOV	BYTE [-780+EBP],AL
   951 000008FF                                 L25:
   952 000008FF 8A 95 FFFFFCF4                  	MOV	DL,BYTE [-780+EBP]
   953 00000905 8D 42 BF                        	LEA	EAX,DWORD [-65+EDX]
   954 00000908 3C 19                           	CMP	AL,25
   955 0000090A 77 1D                           	JA	L26
   956 0000090C F7 85 FFFFFBB0 00000004         	TEST	DWORD [-1104+EBP],4
   957 00000916 0F 85 000003A8                  	JNE	L84
   958 0000091C 83 BD FFFFFBB4 00               	CMP	DWORD [-1100+EBP],0
   959 00000923 0F 84 0000038D                  	JE	L28
   960 00000929                                 L26:
   961 00000929 8A 85 FFFFFCF4                  	MOV	AL,BYTE [-780+EBP]
   962 0000092F 84 C0                           	TEST	AL,AL
   963 00000931 74 26                           	JE	L30
   964 00000933 39 BD FFFFFB9C                  	CMP	DWORD [-1124+EBP],EDI
   965 00000939 0F 84 00000339                  	JE	L96
   966 0000093F 0F BE C0                        	MOVSX	EAX,AL
   967 00000942 05 00000100                     	ADD	EAX,256
   968 00000947 50                              	PUSH	EAX
   969 00000948 8B 85 FFFFFBBC                  	MOV	EAX,DWORD [-1092+EBP]
   970 0000094E 83 C0 10                        	ADD	EAX,16
   971 00000951 50                              	PUSH	EAX
   972 00000952 E8 [00000000]                   	CALL	_fifo_put
   973 00000957 58                              	POP	EAX
   974 00000958 5A                              	POP	EDX
   975 00000959                                 L30:
   976 00000959 81 FE 0000010E                  	CMP	ESI,270
   977 0000095F 0F 84 000002BB                  	JE	L97
   978 00000965                                 L34:
   979 00000965 81 FE 0000011C                  	CMP	ESI,284
   980 0000096B 0F 84 00000288                  	JE	L98
   981 00000971                                 L38:
   982 00000971 81 FE 0000010F                  	CMP	ESI,271
   983 00000977 0F 84 0000021A                  	JE	L99
   984 0000097D                                 L40:
   985 0000097D 81 FE 0000012A                  	CMP	ESI,298
   986 00000983 0F 84 00000202                  	JE	L100
   987 00000989                                 L42:
   988 00000989 81 FE 00000136                  	CMP	ESI,310
   989 0000098F 0F 84 000001EA                  	JE	L101
   990 00000995                                 L43:
   991 00000995 81 FE 000001AA                  	CMP	ESI,426
   992 0000099B 0F 84 000001D2                  	JE	L102
   993 000009A1                                 L44:
   994 000009A1 81 FE 000001B6                  	CMP	ESI,438
   995 000009A7 0F 84 000001BA                  	JE	L103
   996 000009AD                                 L45:
   997 000009AD 81 FE 0000013A                  	CMP	ESI,314
   998 000009B3 0F 84 00000185                  	JE	L104
   999 000009B9                                 L46:
  1000 000009B9 81 FE 00000145                  	CMP	ESI,325
  1001 000009BF 0F 84 00000150                  	JE	L105
  1002 000009C5                                 L47:
  1003 000009C5 81 FE 00000146                  	CMP	ESI,326
  1004 000009CB 0F 84 0000011B                  	JE	L106
  1005 000009D1                                 L48:
  1006 000009D1 81 FE 0000013E                  	CMP	ESI,318
  1007 000009D7 0F 84 000000B8                  	JE	L107
  1008 000009DD                                 L49:
  1009 000009DD 81 FE 00000157                  	CMP	ESI,343
  1010 000009E3 0F 84 00000089                  	JE	L108
  1011 000009E9                                 L50:
  1012 000009E9 81 FE 000001FA                  	CMP	ESI,506
  1013 000009EF 74 72                           	JE	L109
  1014 000009F1                                 L51:
  1015 000009F1 81 FE 000001FE                  	CMP	ESI,510
  1016 000009F7 74 54                           	JE	L110
  1017 000009F9                                 L52:
  1018 000009F9 83 BD FFFFFBD4 00               	CMP	DWORD [-1068+EBP],0
  1019 00000A00 78 29                           	JS	L53
  1020 00000A02 8B 85 FFFFFBD8                  	MOV	EAX,DWORD [-1064+EBP]
  1021 00000A08 6A 2B                           	PUSH	43
  1022 00000A0A 83 C0 07                        	ADD	EAX,7
  1023 00000A0D 50                              	PUSH	EAX
  1024 00000A0E 6A 1C                           	PUSH	28
  1025 00000A10 FF B5 FFFFFBD8                  	PUSH	DWORD [-1064+EBP]
  1026 00000A16 0F B6 85 FFFFFBD4               	MOVZX	EAX,BYTE [-1068+EBP]
  1027 00000A1D 50                              	PUSH	EAX
  1028 00000A1E FF 77 04                        	PUSH	DWORD [4+EDI]
  1029 00000A21 FF 37                           	PUSH	DWORD [EDI]
  1030 00000A23 E8 [00000000]                   	CALL	_fill_box8
  1031 00000A28 83 C4 1C                        	ADD	ESP,28
  1032 00000A2B                                 L53:
  1033 00000A2B 8B 85 FFFFFBD8                  	MOV	EAX,DWORD [-1064+EBP]
  1034 00000A31 6A 2C                           	PUSH	44
  1035 00000A33 83 C0 08                        	ADD	EAX,8
  1036 00000A36 50                              	PUSH	EAX
  1037 00000A37 6A 1C                           	PUSH	28
  1038 00000A39 FF B5 FFFFFBD8                  	PUSH	DWORD [-1064+EBP]
  1039 00000A3F 57                              	PUSH	EDI
  1040 00000A40 E8 [00000000]                   	CALL	_layers_refresh
  1041 00000A45 83 C4 14                        	ADD	ESP,20
  1042 00000A48 E9 FFFFFAA7                     	JMP	L14
  1043 00000A4D                                 L110:
  1044 00000A4D E8 [00000000]                   	CALL	_wait_kbc_sendready
  1045 00000A52 FF B5 FFFFFBAC                  	PUSH	DWORD [-1108+EBP]
  1046 00000A58 6A 60                           	PUSH	96
  1047 00000A5A E8 [00000000]                   	CALL	_io_out8
  1048 00000A5F 5B                              	POP	EBX
  1049 00000A60 5E                              	POP	ESI
  1050 00000A61 EB 96                           	JMP	L52
  1051 00000A63                                 L109:
  1052 00000A63 C7 85 FFFFFBAC FFFFFFFF         	MOV	DWORD [-1108+EBP],-1
  1053 00000A6D E9 FFFFFF7F                     	JMP	L51
  1054 00000A72                                 L108:
  1055 00000A72 8B 95 FFFFFBCC                  	MOV	EDX,DWORD [-1076+EBP]
  1056 00000A78 8B 42 10                        	MOV	EAX,DWORD [16+EDX]
  1057 00000A7B 83 F8 02                        	CMP	EAX,2
  1058 00000A7E 0F 8E FFFFFF65                  	JLE	L50
  1059 00000A84 48                              	DEC	EAX
  1060 00000A85 50                              	PUSH	EAX
  1061 00000A86 FF 72 18                        	PUSH	DWORD [24+EDX]
  1062 00000A89 E8 [00000000]                   	CALL	_layer_updown
  1063 00000A8E 58                              	POP	EAX
  1064 00000A8F 5A                              	POP	EDX
  1065 00000A90 E9 FFFFFF54                     	JMP	L50
  1066 00000A95                                 L107:
  1067 00000A95 83 BD FFFFFBB4 00               	CMP	DWORD [-1100+EBP],0
  1068 00000A9C 0F 84 FFFFFF3B                  	JE	L49
  1069 00000AA2 8B 95 FFFFFBBC                  	MOV	EDX,DWORD [-1092+EBP]
  1070 00000AA8 83 7A 34 00                     	CMP	DWORD [52+EDX],0
  1071 00000AAC 0F 84 FFFFFF2B                  	JE	L49
  1072 00000AB2 68 [00000121]                   	PUSH	LC3
  1073 00000AB7 FF 35 00000FEC                  	PUSH	DWORD [4076]
  1074 00000ABD E8 [00000000]                   	CALL	_console_putstr0
  1075 00000AC2 E8 [00000000]                   	CALL	_io_cli
  1076 00000AC7 8B 95 FFFFFBBC                  	MOV	EDX,DWORD [-1092+EBP]
  1077 00000ACD 8B 85 FFFFFBBC                  	MOV	EAX,DWORD [-1092+EBP]
  1078 00000AD3 83 C0 30                        	ADD	EAX,48
  1079 00000AD6 89 42 54                        	MOV	DWORD [84+EDX],EAX
  1080 00000AD9 C7 42 4C [00000000]             	MOV	DWORD [76+EDX],_asm_stop_user_app
  1081 00000AE0 E8 [00000000]                   	CALL	_io_sti
  1082 00000AE5 59                              	POP	ECX
  1083 00000AE6 5B                              	POP	EBX
  1084 00000AE7 E9 FFFFFEF1                     	JMP	L49
  1085 00000AEC                                 L106:
  1086 00000AEC 68 000000ED                     	PUSH	237
  1087 00000AF1 8D 5D B4                        	LEA	EBX,DWORD [-76+EBP]
  1088 00000AF4 53                              	PUSH	EBX
  1089 00000AF5 83 B5 FFFFFBB0 01               	XOR	DWORD [-1104+EBP],1
  1090 00000AFC E8 [00000000]                   	CALL	_fifo_put
  1091 00000B01 FF B5 FFFFFBB0                  	PUSH	DWORD [-1104+EBP]
  1092 00000B07 53                              	PUSH	EBX
  1093 00000B08 E8 [00000000]                   	CALL	_fifo_put
  1094 00000B0D 83 C4 10                        	ADD	ESP,16
  1095 00000B10 E9 FFFFFEBC                     	JMP	L48
  1096 00000B15                                 L105:
  1097 00000B15 68 000000ED                     	PUSH	237
  1098 00000B1A 8D 5D B4                        	LEA	EBX,DWORD [-76+EBP]
  1099 00000B1D 53                              	PUSH	EBX
  1100 00000B1E 83 B5 FFFFFBB0 02               	XOR	DWORD [-1104+EBP],2
  1101 00000B25 E8 [00000000]                   	CALL	_fifo_put
  1102 00000B2A FF B5 FFFFFBB0                  	PUSH	DWORD [-1104+EBP]
  1103 00000B30 53                              	PUSH	EBX
  1104 00000B31 E8 [00000000]                   	CALL	_fifo_put
  1105 00000B36 83 C4 10                        	ADD	ESP,16
  1106 00000B39 E9 FFFFFE87                     	JMP	L47
  1107 00000B3E                                 L104:
  1108 00000B3E 68 000000ED                     	PUSH	237
  1109 00000B43 8D 5D B4                        	LEA	EBX,DWORD [-76+EBP]
  1110 00000B46 53                              	PUSH	EBX
  1111 00000B47 83 B5 FFFFFBB0 04               	XOR	DWORD [-1104+EBP],4
  1112 00000B4E E8 [00000000]                   	CALL	_fifo_put
  1113 00000B53 FF B5 FFFFFBB0                  	PUSH	DWORD [-1104+EBP]
  1114 00000B59 53                              	PUSH	EBX
  1115 00000B5A E8 [00000000]                   	CALL	_fifo_put
  1116 00000B5F 83 C4 10                        	ADD	ESP,16
  1117 00000B62 E9 FFFFFE52                     	JMP	L46
  1118 00000B67                                 L103:
  1119 00000B67 83 A5 FFFFFBB4 FD               	AND	DWORD [-1100+EBP],-3
  1120 00000B6E E9 FFFFFE3A                     	JMP	L45
  1121 00000B73                                 L102:
  1122 00000B73 83 A5 FFFFFBB4 FE               	AND	DWORD [-1100+EBP],-2
  1123 00000B7A E9 FFFFFE22                     	JMP	L44
  1124 00000B7F                                 L101:
  1125 00000B7F 83 8D FFFFFBB4 02               	OR	DWORD [-1100+EBP],2
  1126 00000B86 E9 FFFFFE0A                     	JMP	L43
  1127 00000B8B                                 L100:
  1128 00000B8B 83 8D FFFFFBB4 01               	OR	DWORD [-1100+EBP],1
  1129 00000B92 E9 FFFFFDF2                     	JMP	L42
  1130 00000B97                                 L99:
  1131 00000B97 FF B5 FFFFFBD8                  	PUSH	DWORD [-1064+EBP]
  1132 00000B9D FF B5 FFFFFBD4                  	PUSH	DWORD [-1068+EBP]
  1133 00000BA3 57                              	PUSH	EDI
  1134 00000BA4 FF B5 FFFFFB9C                  	PUSH	DWORD [-1124+EBP]
  1135 00000BAA E8 FFFFF490                     	CALL	_keywin_off
  1136 00000BAF 83 C4 10                        	ADD	ESP,16
  1137 00000BB2 89 85 FFFFFBD4                  	MOV	DWORD [-1068+EBP],EAX
  1138 00000BB8 8B 85 FFFFFB9C                  	MOV	EAX,DWORD [-1124+EBP]
  1139 00000BBE 8B 48 18                        	MOV	ECX,DWORD [24+EAX]
  1140 00000BC1 49                              	DEC	ECX
  1141 00000BC2 75 0A                           	JNE	L41
  1142 00000BC4 8B 95 FFFFFBCC                  	MOV	EDX,DWORD [-1076+EBP]
  1143 00000BCA 8B 4A 10                        	MOV	ECX,DWORD [16+EDX]
  1144 00000BCD 49                              	DEC	ECX
  1145 00000BCE                                 L41:
  1146 00000BCE 8B 85 FFFFFBCC                  	MOV	EAX,DWORD [-1076+EBP]
  1147 00000BD4 8B 4C 88 14                     	MOV	ECX,DWORD [20+EAX+ECX*4]
  1148 00000BD8 FF B5 FFFFFBD4                  	PUSH	DWORD [-1068+EBP]
  1149 00000BDE 57                              	PUSH	EDI
  1150 00000BDF 89 8D FFFFFB9C                  	MOV	DWORD [-1124+EBP],ECX
  1151 00000BE5 51                              	PUSH	ECX
  1152 00000BE6 E8 FFFFF415                     	CALL	_keywin_on
  1153 00000BEB 83 C4 0C                        	ADD	ESP,12
  1154 00000BEE 89 85 FFFFFBD4                  	MOV	DWORD [-1068+EBP],EAX
  1155 00000BF4 E9 FFFFFD84                     	JMP	L40
  1156 00000BF9                                 L98:
  1157 00000BF9 39 BD FFFFFB9C                  	CMP	DWORD [-1124+EBP],EDI
  1158 00000BFF 0F 84 FFFFFD6C                  	JE	L38
  1159 00000C05 8B 85 FFFFFBBC                  	MOV	EAX,DWORD [-1092+EBP]
  1160 00000C0B 68 0000010A                     	PUSH	266
  1161 00000C10 83 C0 10                        	ADD	EAX,16
  1162 00000C13 50                              	PUSH	EAX
  1163 00000C14 E8 [00000000]                   	CALL	_fifo_put
  1164 00000C19 58                              	POP	EAX
  1165 00000C1A 5A                              	POP	EDX
  1166 00000C1B E9 FFFFFD51                     	JMP	L38
  1167 00000C20                                 L97:
  1168 00000C20 39 BD FFFFFB9C                  	CMP	DWORD [-1124+EBP],EDI
  1169 00000C26 74 1B                           	JE	L111
  1170 00000C28 8B 85 FFFFFBBC                  	MOV	EAX,DWORD [-1092+EBP]
  1171 00000C2E 68 00000108                     	PUSH	264
  1172 00000C33 83 C0 10                        	ADD	EAX,16
  1173 00000C36 50                              	PUSH	EAX
  1174 00000C37 E8 [00000000]                   	CALL	_fifo_put
  1175 00000C3C 59                              	POP	ECX
  1176 00000C3D 5B                              	POP	EBX
  1177 00000C3E E9 FFFFFD22                     	JMP	L34
  1178 00000C43                                 L111:
  1179 00000C43 83 BD FFFFFBD8 08               	CMP	DWORD [-1064+EBP],8
  1180 00000C4A 0F 8E FFFFFD15                  	JLE	L34
  1181 00000C50 6A 01                           	PUSH	1
  1182 00000C52 68 [00000130]                   	PUSH	LC2
  1183 00000C57 6A 07                           	PUSH	7
  1184 00000C59 6A 00                           	PUSH	0
  1185 00000C5B 6A 1C                           	PUSH	28
  1186 00000C5D FF B5 FFFFFBD8                  	PUSH	DWORD [-1064+EBP]
  1187 00000C63 57                              	PUSH	EDI
  1188 00000C64 E8 [00000000]                   	CALL	_drawstring_and_refresh
  1189 00000C69 83 C4 1C                        	ADD	ESP,28
  1190 00000C6C 83 AD FFFFFBD8 08               	SUB	DWORD [-1064+EBP],8
  1191 00000C73 E9 FFFFFCED                     	JMP	L34
  1192 00000C78                                 L96:
  1193 00000C78 83 BD FFFFFBD8 7F               	CMP	DWORD [-1064+EBP],127
  1194 00000C7F 0F 8F FFFFFCD4                  	JG	L30
  1195 00000C85 6A 01                           	PUSH	1
  1196 00000C87 8D 85 FFFFFCF4                  	LEA	EAX,DWORD [-780+EBP]
  1197 00000C8D 50                              	PUSH	EAX
  1198 00000C8E 6A 07                           	PUSH	7
  1199 00000C90 6A 00                           	PUSH	0
  1200 00000C92 6A 1C                           	PUSH	28
  1201 00000C94 FF B5 FFFFFBD8                  	PUSH	DWORD [-1064+EBP]
  1202 00000C9A 57                              	PUSH	EDI
  1203 00000C9B C6 85 FFFFFCF5 00               	MOV	BYTE [-779+EBP],0
  1204 00000CA2 E8 [00000000]                   	CALL	_drawstring_and_refresh
  1205 00000CA7 83 C4 1C                        	ADD	ESP,28
  1206 00000CAA 83 85 FFFFFBD8 08               	ADD	DWORD [-1064+EBP],8
  1207 00000CB1 E9 FFFFFCA3                     	JMP	L30
  1208 00000CB6                                 L28:
  1209 00000CB6 8D 42 20                        	LEA	EAX,DWORD [32+EDX]
  1210 00000CB9 88 85 FFFFFCF4                  	MOV	BYTE [-780+EBP],AL
  1211 00000CBF E9 FFFFFC65                     	JMP	L26
  1212 00000CC4                                 L84:
  1213 00000CC4 83 BD FFFFFBB4 00               	CMP	DWORD [-1100+EBP],0
  1214 00000CCB 0F 84 FFFFFC58                  	JE	L26
  1215 00000CD1 EB E3                           	JMP	L28
  1216 00000CD3                                 L23:
  1217 00000CD3 8A 86 [FFFFFF80]                	MOV	AL,BYTE [_s_keytable_shift.1-256+ESI]
  1218 00000CD9 E9 FFFFFC1B                     	JMP	L86
  1219 00000CDE                                 L22:
  1220 00000CDE C6 85 FFFFFCF4 00               	MOV	BYTE [-780+EBP],0
  1221 00000CE5 E9 FFFFFC15                     	JMP	L25
  1222 00000CEA                                 L89:
  1223 00000CEA FF B5 FFFFFBC0                  	PUSH	DWORD [-1088+EBP]
  1224 00000CF0 E8 [00000000]                   	CALL	_task_sleep
  1225 00000CF5 E8 [00000000]                   	CALL	_io_sti
  1226 00000CFA 5B                              	POP	EBX
  1227 00000CFB E9 FFFFF7F4                     	JMP	L14
  1228 00000D00                                 L88:
  1229 00000D00 53                              	PUSH	EBX
  1230 00000D01 E8 [00000000]                   	CALL	_fifo_get
  1231 00000D06 89 85 FFFFFBAC                  	MOV	DWORD [-1108+EBP],EAX
  1232 00000D0C E8 [00000000]                   	CALL	_wait_kbc_sendready
  1233 00000D11 FF B5 FFFFFBAC                  	PUSH	DWORD [-1108+EBP]
  1234 00000D17 6A 60                           	PUSH	96
  1235 00000D19 E8 [00000000]                   	CALL	_io_out8
  1236 00000D1E 83 C4 0C                        	ADD	ESP,12
  1237 00000D21 E9 FFFFF7E9                     	JMP	L17
