# **分割编译与中断处理** #
***


## **分割源文件** ##
    1) 分割文件的优点:
        * 按照处理内容进行分类, 如果分得好的话, 将来进行修改时, 容易找到地方
        * 如果makefile写得好, 只需要编译修改后的文件, 就可以提高make的速度
        * 单个源文件都不长, 多个小文件比一个大文件好处理
    2) 分割文件的缺点:
        * 源文件的数量增加
        * 分类分得不好的话, 修改时不容易找到地方
    3) 具体例子请参见./os-src/toyos25/



## **相关知识点(GDT/IDT)讲解** ##
    1) gdtr是一个48位的寄存器, 所以在给它赋值的时候, 唯一的方法就是指定一个
       内存地址, 从指定的地址读取6个字节(48位), 然后赋值给gdtr寄存器; 而lgdt
       指令就可以完成该赋值操作
    2) 段的访问权属性(12位)
        * 高4位被称为扩展访问权
        * 访问权限的低8位
          00000000(0x00): 未使用的记录表(descriptor table)
          10010010(0x92): 系统专用, 可读写的段, 不可执行
          10011010(0x9a): 系统专用, 可执行的段, 可读不可写
          11110010(0xf2): 应用程序用, 可读写的段, 不可执行
          11111010(0xfa): 应用程序用, 可执行的段, 可读不可写
    3) 32位模式下, CPU有系统模式(ring0)和应用模式(ring3)
    4) CPU处于系统模式, 那执行中的应用程序位于访问权为0x9a的段; 如果CPU处于
       应用模式, 那执行中的应用程序位于访问权为0xfa的段
