# **窗口操作** #
***



## **1. 窗口切换** ##
    1) 我们先实现一个简单的方法, 通过按键F11来切换窗口, 将最下面的那个窗口放
       到上面来
    2) F11的按键编码是0x57(F12为0x58)
    3) 我们将从下面第2个图层的高度提升为layermgr->top - 1, top这个高度存放的
       是最上面的一个图层的高度, 这个图层永远是绘制鼠标指针用的, 因此我们的
       切换是将窗口切换到鼠标图层的下一个图层
    4) 具体例子请参见./os-src/toyosb4/



## **2. 窗口切换(使用鼠标)** ##
    1) 我们来实现使用鼠标切换窗口
    2) 当鼠标点击画面的某个地方时, 我们需要按从上到下的顺序, 判断鼠标的位置
       落在哪个图层范围, 并且还要确保该位置不是透明色区域
    3) 具体例子请参见./os-src/toyosb5/



## **3. 移动窗口** ##
    1) 我们来实现窗口的移动
    2) 当鼠标左键点击窗口时, 如果点击的位置在窗口的标题栏区域则进入窗口移动
       模式, 使窗口的位置追随鼠标指针的移动, 当放开鼠标左键的时候则推出窗口
       移动模式, 返回一般的模式
    3) 具体例子请参见./os-src/toyosb6/



## **4. 用鼠标关闭窗口** ##
    1) 既然我们的窗口上有一个关闭按钮, 我们来实现使用鼠标关闭窗口
    2) 我们这个使用鼠标点击关闭按钮关闭窗口的功能只能适用于用户应用程序
    3) 具体例子请参见./os-src/toyosb7/



## **5. 将输入切换到应用程序窗口** ##
    1) 我们现在对应用程序使用键盘指令, 其实是命令行窗口来接收的, 我们需要将
       输入切换到对应的窗口
    2) 当应用程序窗口处于输入模式被关闭的情况下, 我们可以让系统自动切换到最
       上层的窗口上
    3) 具体例子请参见./os-src/toyosb8/



## **6. 用鼠标切换输入窗口** ##
    1) 目前我们切换到应用程序的窗口依然要使用TAB, 很麻烦, 我们来实现使用鼠标
       切换输入窗口
    2) 具体例子请参见./os-src/toyosb9/
