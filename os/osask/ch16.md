# **多任务** #
***


## **1. 任务管理自动化** ##
    1) 目前我们实现的多任务切换, 太弱了, 如果添加了新的任务, 就需要修改多任
       务切换函数mt_taskswitch
    2) 我们可以将多任务管理做成类似layer和timer一样的管理即可
    3) 具体例子请参见./os-src/toyos81/



## **2. 让任务休眠** ##
    1) 对于一个任务, 空闲时间较多的任务, 没有键盘输入, 没有鼠标操作也不经常
       出现定时器中断的请求的时候, 应该让任务处于hlt 
    2) 如何让一个没什么操作的任务不浪费时间呢? 将这个任务从任务队列中删除, 
       只保留其他任务, 这样其他任务就可以全力以赴的工作了; 这样将一个任务从
       任务列表中删除的操作叫做"休眠"
    3) 当这个处于休眠的任务, 有中断响应的时候就应该将任务唤醒
    4) 具体例子请参见./os-src/toyos82/


## **3. 增加窗口的数量** ##
    1) 具体例子请参见./os-src/toyos83/


## **4. 设置任务的优先级** ##
    1) 现实中, 我们需要提升或降低某个应用的优先级; 目前我们的系统所有的任务
       切换均是0.02s, 我们需要修改使得每个任务可以在0.01~0.1s的范围内设定不
       同的任务切换间隔
    2) 具体例子请参见./os-src/toyos84/



## **5. 设定任务的优先级** ##
    1) 前面我们的系统, 鼠标的移动会有一点儿慢的反应; 其原因就是其他任务的运
       行从而导致了主任务变慢; 这样我们就直接将主任务的优先级提高就可以了; 
       这样做也不会影响其他任务的运行速度——无论其优先级如何高, 当其在空闲
       时间的时候会自动休眠
    2) 我们可以将任务分成几个层次, 当高层次的任务处理完成后处于休眠状态的情
       况下才处理其下一层的任务
          level_0
            |
            V
          level_1 
            |
            V
          level_2
        当level_0的任务都处于休眠才处理level_1的任务; 当level_0和level_1的任
        务都处理完成之后才会处理位于level_2的任务 
    3) 具体例子请参见./os-src/toyos85/
