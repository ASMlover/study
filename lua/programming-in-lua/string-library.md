# **字符串库** #
***


## **1. 基础字符串函数** ##
    1) string.len(s)返回字符串s的长度
    2) string.rep(s, n)(或s:rep(n))返回字符串s重复n次的结果
    3) string.lower(s)返回一份s的副本, 其中所有的大写字母都被转换成小写形式,
       其他字符则保持不变
    4) string.upper(s)返回一份s的副本, 其中所有的小写字母都被转换成大写形式,
       其他字符则保持不变
    5) string.upper和string.lower都遵循当前的区域设置
    6) string.sub(s, i, j)从s中提第i个到第j个字符
    7) lua中的字符串是不可变的, 这些字符串函数只是返回一个新的字符串
    8) string.char接受0个或多个整数, 并将每个整数转换成对应的字符, 然后返回
       一个由这些字符连接而成的字符串
    9) string.byte(s, i)返回字符串中第i个字符的内部数值表示; 如果不指定i, 则
       返回s中第一个字符的内部数值表示
    10) string.byte(s, i, j)返回i到j之间(包括i和j)所有字符的内部数值表示
    11) string.format用于格式化字符串, 常用于输出上(基本与C语言printf相同)


## **2. 模式匹配函数** ##
        最强大的函数时find, match, gsub(全局替换)和gmatch(全局匹配), 它们都
    是基于模式的
> ### **2.1 string.find函数** ###
    1) 用于在一个给定的目标字符串中搜索一个模式
    2) 最简单的模式就是一个单词, 只会匹配与自己完全相同的拷贝
    3) 找到返回匹配的起始索引和结尾索引, 如果没找到任何匹配返回nil
    4) 可选的第3个参数, 是也该索引, 告诉函数应从目标字符串的哪个位置开始搜索
> ### **2.2 string.match函数** ###
    1) 用于在一个字符串中搜索一种模式
    2) 返回目标字符串中与模式相匹配的那部分子串
> ### **2.3 string.gsub函数** ###
    1) 有3个参数: 目标字符串, 模式和替换字符串
    2) 将目标字符串中所有出现模式的地方替换为提花字符串
    3) 可选的第4个参数, 用以限制替换的次数
> ### **2.4 string.gmatch函数** ###
    1) 返回一个函数, 通过这个函数可以遍历到一个字符串中所有出现指定模式的地
       方



## **3. 模式** ##
    1) 所有字符分类
       .      所有字符
       %a     字母
       %c     控制字符
       %d     数字
       %l     小写字母
       %p     标点符号
       %s     空白字符
       %u     大写字母
       %w     字母和数字字符
       %x     十六进制数字
       %z     内部表示为0的字符
       这些分类的大写形式表示它们的补集
    2) 可以通过修饰符来描述模式中的重复部分和可选部分
       +      重复1次或多次
       *      重复0次或多次
       -      重复0次或多次
       ?      可选部分(出现0或1次)



## **4. 捕获** ##
    1) 根据一个模式从目标字符串中抽出匹配与该模式的内容; 在指定捕获时, 应将
       模式中需要捕获的部分写到一对圆括号内
    2) 定位标记('^'和'$')表示在操作整个字符串; 而'.-'会试图匹配尽可能少的内
       容


## **5. 替换** ##
    1) string.gsub的第3个参数不仅是一个字符串, 还可以是一个函数或table
    2) string.gsub的第3个参数是一个函数时, 会在每次找到匹配时调用该函数
    3) string.gsub的第3个参数是table时, 会用每次捕获到的内容作为key, 在table
       中进行查找, 并将对于的value作为要替换的字符串; 如果table中不包含这个
       key那string.gsub不改变这个匹配
